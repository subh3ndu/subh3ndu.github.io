<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>TmpmlqOj274Vs</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <style type="text/css">:root {--c-caption: grey;--c-blue: #26bfe3;--c-green: #02e180;--c-orange: #f2971a;--c-pink: #e3266f;--c-bg: #fff;--c-bg-alt: #f5f5f5;--c-text-header: #fff;--c-text-body: #95989a;--padding: 20px;--padding-inv: calc(-1 * var(--padding));--fonts: "Open Sans", -apple-system, system-ui, "Segoe UI", "Roboto","Helvetica Neue", Arial, sans-serif;--font-size: 1.1rem;}html {font-size: 100%;}body {color: #444;font-family: var(--fonts);font-size: var(--font-size);line-height: 1.7;padding: 1em;margin: auto;max-width: 800px;background: #fefefe;}a {color: #0645ad;text-decoration: none;}a:visited {color: #0b0080;}a:hover {color: #06e;}a:active {color: #faa700;}a:focus {outline: thin dotted;}a::selection {background: rgba(255, 255, 0, 0.3);color: #0645ad;}*::selection {background: rgba(255, 255, 0, 0.3);color: #000;}p {margin: 1em 0;}.caption {text-align: center;color: var(--c-caption);font-style: italic;}.note,.tips,.warning {display: block;width: calc(100% - var(--padding) * 2);padding: 0 var(--padding);padding-bottom: var(--padding);background-color: var(--c-bg-alt);}.note:before,.tips:before,.warning:before {display: block;margin: 0 var(--padding-inv) 10px var(--padding-inv);padding-left: var(--padding);font-style: bold;color: white;}.note:before {content: "Note";background-color: var(--c-blue);}.tips:before {content: "Tips";background-color: var(--c-pink);}.warning:before {content: "Warning";background-color: var(--c-orange);}img {max-width: 100%;}h1,h2,h3,h4,h5,h6 {color: #111;line-height: 125%;margin-top: 2em;font-weight: normal;}h4,h5,h6 {font-weight: bold;}h1 {font-size: 2.5em;}h2 {font-size: 2em;}h3 {font-size: 1.5em;}h4 {font-size: 1.2em;}blockquote {color: #666666;margin: 0;padding-left: 3em;border-left: 0.5em #eee solid;}hr {display: block;height: 2px;border: 0;border-top: 1px solid #aaa;border-bottom: 1px solid #eee;margin: 1em 0;padding: 0;}pre,code,kbd,samp {color: #0084b8;font-family: monospace, monospace;}pre {background-color: #f9f9f9;padding: 1em;font-size: 14px;white-space: pre-wrap;word-wrap: break-word;}code {white-space: pre-wrap;}b,strong {font-weight: bold;}dfn {font-style: italic;color: var(--c-blue);}ins {background: #ff9;color: #000;text-decoration: none;}ul,ol {margin: 1em 0;padding: 0 0 0 2em;}li p:last-child {margin-bottom: 0;}ul ul,ol ol {margin: 0.3em 0;}dl {margin-bottom: 1em;}dt {font-weight: bold;margin-bottom: 0.8em;}dd {margin: 0 0 0.8em 2em;}dd:last-child {margin-bottom: 0;}img {border: 0;-ms-interpolation-mode: bicubic;vertical-align: middle;}figure {display: block;text-align: center;margin: 1em 0;}figure img {border: none;margin: 0 auto;}figcaption {font-size: 0.8em;font-style: italic;margin: 0 0 0.8em;}.author {font-size: 1.2em;text-align: center;}tag {min-width: 3.2em;text-align: center;border-radius: 8px;padding: 0 4px;margin-bottom: 0;margin-top: 4px;margin-right: 0.2em;display: inline-block;color: white;}tag.update {background: var(--c-blue);}tag.new {background: var(--c-green);}tag.update:after {content: "update";}tag.new:after {content: "new";}button {background-color: var(--c-blue);color: white;border: none;cursor: pointer;line-height: 2rem;font-size: 1.2rem;margin: 0.75rem 0;overflow: visible;padding: 0.75rem 1.5rem;border-radius: 1rem;transition: background-color $transition-duration;white-space: nowrap;}</style>
</head>
<body>
<h1 id="solution-moving-to-units">Solution: moving to units</h1>
<p>Here’s a solution to our challenge.</p>
<p>There are two cases where the code needs to change: when moving the cursor and confirming movement.</p>
<p>We have two signal callbacks from the <em>Cursor</em> in <code>GameBoard.gd</code>: <code>_on_Cursor_accept_pressed()</code> and <code>_on_Cursor_moved()</code>. That’s where I started looking.</p>
<p>In those callbacks, we pass a cell to another function that will either draw a path or move the unit to the highlighted cell. Instead of directly passing the cursor’s position, we can modify it and find another, more appropriate cell in the context.</p>
<p>To do so, I wrote a new function, <code>find_closest_walkable_cell()</code>. It relies on our <code>GameBoard._active_unit</code> variable at the moment.</p>
<p>It looks at the current cell and, if there’s a unit there, it loops over the surrounding cells and finds the one closest to the <code>_active_unit</code>. Note that as the game evolves, we may want to remove the use of <code>_active_unit</code> and use another parameter instead to make the function more flexible. But for now, it keeps the code simple.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e">## If the cursor&#39;s over a unit, returns the closest cell in front of the enemy.</span>
<span style="color:#75715e">## Otherwise, returns the current cell.</span>
<span style="color:#66d9ef">func</span> find_closest_walkable_cell(cell: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Vector2</span>:
    <span style="color:#75715e"># We only need to process and modify the output cell if the cursor is over a unit.</span>
    <span style="color:#75715e"># If that&#39;s not the case, we keep the current cell.</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> _units<span style="color:#f92672">.</span>has(cell):
        <span style="color:#66d9ef">return</span> cell

    <span style="color:#66d9ef">var</span> closest_cell :<span style="color:#f92672">=</span> cell
    <span style="color:#75715e"># To find the closest cell, we need to store the smallest distance we&#39;ve had so far to the</span>
    <span style="color:#75715e"># cells we looked at. We start with &quot;infinite&quot;.</span>
    <span style="color:#66d9ef">var</span> min_distance :<span style="color:#f92672">=</span> INF

    <span style="color:#66d9ef">for</span> direction <span style="color:#f92672">in</span> DIRECTIONS:
        <span style="color:#66d9ef">var</span> target: <span style="color:#a6e22e">Vector2</span> <span style="color:#f92672">=</span> cell <span style="color:#f92672">+</span> direction
        <span style="color:#75715e"># For each neighboring cell we look at, we ensure it&#39;s not also occupied by a unit.</span>
        <span style="color:#66d9ef">if</span> _units<span style="color:#f92672">.</span>has(target) <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> _units[target] <span style="color:#f92672">==</span> _active_unit:
            <span style="color:#66d9ef">continue</span>

        <span style="color:#75715e"># We then compare the squared distance to every cell and always take the smallest one.</span>
        <span style="color:#66d9ef">var</span> distance :<span style="color:#f92672">=</span> target<span style="color:#f92672">.</span>distance_squared_to(_active_unit<span style="color:#f92672">.</span>cell)

        <span style="color:#66d9ef">if</span> distance <span style="color:#f92672">&lt;</span> min_distance:
            min_distance <span style="color:#f92672">=</span> distance
            closest_cell <span style="color:#f92672">=</span> target

    <span style="color:#66d9ef">return</span> closest_cell
</pre>
<p>With the function above, if other units surround the target unit, we can’t move to it and keep our previous behavior.</p>
<p>Now, we update both <code>_on_Cursor_moved()</code> and <code>_on_Cursor_accept_pressed()</code> to process the cursor’s cell with our new function.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> _on_Cursor_accept_pressed(cell: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#75715e">#...</span>
    <span style="color:#66d9ef">elif</span> _active_unit<span style="color:#f92672">.</span>is_selected:
        <span style="color:#75715e"># We process the cell by calling `find_closest_walkable_cell()`</span>
        _move_active_unit(find_closest_walkable_cell(cell))


<span style="color:#75715e">## Updates the interactive path&#39;s drawing if there&#39;s an active and selected unit.</span>
<span style="color:#66d9ef">func</span> _on_Cursor_moved(new_cell: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> _active_unit <span style="color:#f92672">and</span> _active_unit<span style="color:#f92672">.</span>is_selected:
        <span style="color:#75715e"># We process the new cell by calling `find_closest_walkable_cell()`</span>
        <span style="color:#66d9ef">var</span> target_cell <span style="color:#f92672">=</span> find_closest_walkable_cell(new_cell)
        _unit_path<span style="color:#f92672">.</span>draw(_active_unit<span style="color:#f92672">.</span>cell, target_cell)
</pre>
<p>And with that, when hovering a unit, the cursor offers to move to a cell in front of it.</p>
<p><img src="data:image/png;base64,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" /></p>
<p>If the cell in question is occupied, we fall back to another empty cell.</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWYAAAE3CAMAAACuKht2AAAACXBIWXMAABJ0AAASdAHeZh94AAACH1BMVEWEsjuCsTuArztIrv+GsjuEsjyCsDuAsDuGsjmBsDuCsj2HtDuDsjyBrzmDsTqLtDn///+FsTqItDuEsz4BAQA94YBHn0HMPDw7TxqCsDmDsz2EEhI3cjNKnz/lNTX/8yz/xSBFnUOKPulDnEFBm0GMtjv/UlL/pSuEsDlMoEF/sT5HoER9rjqArjiJszmIsznx+P8ApEs+v/mOtjlKnkLsjADvhFFLZyNhgC4A//9AmT04frOHsTg2Shr5nH1JnD9EmT7+sh///wI+uexUoz8IEwo6ejYQJBaqyDwdRR5ojzf/eyA9gzmgIh81Uyc3d3L/icU/iztDkT1zmjQbCwW0tbT+yg9EXiI9ruA4YUU3ald6pDcnMhI/dDQ5la10JMk6n744Fgw8qM43gok5WTRWExM8jZYQSzX8vBvo7OU21Xi1MjIQcTsEp19zIiOnxDlGvN7PdxF8sk/xoxdytWqdwj0pXYVPu8j/6inhjU+iqTlUkGT7uS70mDgkwWditos/kdFcuqiRu0IClEbBoD0tqmJfuP+bwGGd1P9mbG9Hqa/1QkDd8P/W6MC0TxL/3iokik5WOgn/z+fD5f//nvx6xP4ZT1+CNN7Mg3GdYk7dXFLXmE2qyXyvYZRBhbnGx8jH3KmerazocR6csj2405B7Vg2SqjkJ4vVvlrORnW2WYwytdRNzOs/qlXaMjY6IQxFp//eQRMVTx/zy6od/sDvmQxiLAAAgAElEQVR42uxdz2sbSRaulqX+oV+23AWxNGDNxZEQkjPgg31wDmswhpjAQsQOS3zRwTDB4CXMxSyzl2GYzOLNmLDZ2yyEYfcyl7nsH7hV9epVVVeXZLUTQSvUC7Et+fP31fuqurr6lx5JIBoQ2yJCFpOajKaIIAgASNoiIhabGPxFmvKvUeL5XHxEITWMo2pWBIEUNmSl7h7oqvB8eT6SBSJKw1hXKFkhXK/XURb7d5uQOcKeD/hIFidBYUWCWq1qtcp7M1C69boQzugSMhEbSU7X8wEfATDiRqGEAS6oYqDsBGTrUjZCWWJsIZ4vx0eyuBGiAFe1ZScT2b31uqFLRLh0PZ9hc00NfAMmcJ1ORnbCZaVuU+sKVf4WzGueL8dHmgongHUBixDXEYGyE5AFXaaBukK2KcPzOfiIBKq5nPUH/0HiOjKqUhRkEykrdY8J6kZR0/O5+EjUTJKaudeUATiEdaSolEXdBLBdYqxwPJ+DjwiWebiOJcvfU7pMNXGsHj2fg48keoLJA7XsEDRZRCOU5d8B2DU0PZ+DjyiMA1nXQLZXkLKV0UjLSr5uVyj2emKy8nw5PjHH1OYA67VaV8sKXdZFY9m7SpXLdoVqD157PpuPRHFs4RSyzmC1RMtW9UYkljhqpuKyXa7aSyPP5+IjcezA1TSs1hS4MFS6Slay7e/vcdkuV00jz+fikzbncDUFA5ySjWzZfSaLumkaez4XH9rsxMEP7QmXrerNaAy6kSELut1uHHs+Fx+RKAdOB+MzZWEtqTtX62pVz5fhI4haiNPnmqJKJHWjrOyekvV8+SCxsQCxf9lq5WRhuqqoP9lXslzYVPV8Bl/GZhMoNopM7zbM7cgU3d9nant7cRxbsp4vcy0wGhv9xc+GyAne6JgQe7dWFVsRCkK/xjo8n4tP2DweVzI4gAVBYMiGVXM74rrs4HNv70D8s1U9n8VHZGeYsIRhKpXAkjWEI33miktj7yoCz2fzEXkuif+XJ1HrfOUtrh40asZ1cJRNZfca5wGJNUN5PptP2cyZSIsF55EXHE3ZNOW6xm7BlI1ypwA9n23zaISn/DiMEAVrGLIpyFaXkPV8eT7CUCMJJIQwFEnZEQ+gcrINd/eSrKrny/EZNsOFRJKyd+usQxq2rOxeuFGB4eFaOZeVt+1Zsp7PsHnMQnUG3uURhnBrI183atmUd+82U+3EMaoyZBSibMhEPZ+LT9hsozglwqoADVX3bsbHnVh1bijvGovE1yAaez4XH8mgwHpJqWEMiH3JX8SdDqriDZA6PJ+LjyRGV9QyMAbUR0JKdpur8tPe2GOWrOdz8ZEwO94FqmL2pSXLAmVtVbZ3hfvHPJ/Nx23OocTaxYQ1GuoP2QqnJlRhkhd/yV4Rocp1PZ+Dj6jOGGZRSbK52RYY9iM7rI8i7KBGVYluEyO4sNG5ns/gIwo1RJCChe226hJYwOBLKbp9wEPLwj2nni/PhzZPhqovVGcwmJpc5Bm/7AQmVNmWY+p6Phcfm5uNMZ/pjM1qTnYyzgiDqJKVup4vz6dszqM2q0bA6dXxuG1sWHhPuzldhZ7PxUdCYzeZRdmyXLctZVHakhX7YM+X5wObmzYqdsnGcWrKKmGuoXU9n4OPJD28P7dirPjamxZOycoVobn8hqs6IJt4PhcfqSIM7/qoJOLpWbdsHIt7qUejkZaV186eSKTnc/CRVks8P4FdUWff2oizZVutGHRHpq5UBdmW53Pxgc1RUsHbpU3YZk62BbLweICS5Q3ooqrnc/CBzaNRvT6GGx9ThWubsqnqXiWbJCk/kpSnWZSq53PwkRZcZqkznLi91IC1J1q2/mR7W94Bgs/Nvnxx+PTslNLTi52jlxOjcx/IxzNgabSMnc1nw0da7FcChTADN5yo4/snIkC38uIp5TGdXV4/v7q6ur6cTfnri2dctjiffCJMpFGFa22pHiyfBR+pq0CYxk0mVf50HF+4gO6+2JKYo9e3j/Nxzcy+eFmYL5tGBHmoNOqfB58bVqkJWJLgMtzo3icv6a7LZRGXlO4U5JN5jBM9XJI0n8V68xm4Cr/xKwWcuQQ3ZEH3Bd1lMcfqWzakC/LFmIbYv/Dn7wI+XsTM95D2lZEPnvmRj7AEAidhDZKFKdnhkfCZhdtpSseF+NRuRuxdmmHYChuNHtvcYLVUuH0l5ZM4gAEuSWqNRsOCMdkDodo5u9zdXeD0LT0qxBfrJELS5KtSBhZPTUcPal/5+CYa1wSYWJRMJr1MdwgQ0yMg+4Q+Uj47Zw/6ohBfjGnI0148DcjjYe0rHR8idXeIjzTgb+vzUEwWzwCiLN01w+FzQT5IA097GWk8sH0l40OcMeo5bMgCliIQ6jwrqr7M+pwb0Ve0GB/bu6Tqt22RRiaPou0rGZ+Ji2R3SNjxsSmLP6Hszhe7Cwf09KgYn5EFSwPyaGTzWGM+PcOMEBY0m0FOVv8oZeswnB/NnTdoMb4kxZeEdLvdqvw4yAe3r1x81i4TcEEgUMckE71eRldMG3T+9Pz89H/8EHxpPrWF9prsi0rjwe0rFZ+Bgycq8IPujm3ZHspyuSH7Sne/oAv3gvSm3//v0dJ8hDSNJ8HiXB5F21cmPoWTDwcFZpia7R6xYofS60XL59t3/X7/jtIXAY7pxXxWGiK2P6J9ZeKTvTKGvwqD+bK2ZuOQzh3Ml3T2+PE1c7n/h/47Osa5YyGfM4344e0rFZ/1N/N7N9+5812m9Pycfe1D0FP6Kz29n89Ko9px5FSkfWXiW16212tmNC/ovOXclA7u+teXymZ6PhjQo/v4rDT4yfBCtpSar4hsRvfruS4/ooPv+nd9eidt7s8Gg/Nzeg8fnC/8KFtKzPdQ2a/NsxpZm+lg0J/iUIYY0AE9XCINMv60tpSGzw1r2Xcx2bI7dO4R4Ozd4O4bmrW5T39mw5kUSKO6MI1721c2vofJXiw4c8QHM7Vt7rPh/MzbfA8syMqeLXD58ufB3ZfiyKTfv9E239z9TufyudPoxkunUXa+5WwOMrLVU7p7z2C+M/zF7zf0yM338WmUno9EUa/H19dhyI5kcOqWNQ+aOvZUHBwsdHl3xpYZdoDVv1E3Hwt+gRIeLRgO+e06YcivXcLDpIXbV0I+fksjezPlD2IBDA7Ta5as+sSOvQNrxrDXzIPBjT2Q1fxMXXwyizZrNhFZbLMsMI2kePvKyEdkXRR80C3Q1WjC0JYVuju2y7fWmplNGtrirNN0J8+HWeg0+GAJGyqNgu0rJZ9ps41yyR48s13Ozcwi7CkD7P6W5tJQg6U9TNOhHi1pPo1l2ldSPrS5ESgQ45FPc+ZkmS69WmTz9HeHzXIkfytOb9h8KovN4RBnvj2ZRqTTWLp95eQjiFM9IVBQ7schSy+XGsyOKUOs8W5wejbSUPdPyjQiqKyl0ijUvpLyEaM8GIA2zeJVtuxFbsrI2Dx7nRvMN9pmauwG9edgySx4PREYLCoN9QH2y7evrHwkyQJVJTYouqRwUG6sknf51jWYhc30y4zVeGAIPmOdOKxg1hZ1W8TEp/Kwy5fd377S8pFC9fNOpwsH8yO0mRt8Yh1vn8gjQ/B5QT2+7U9c368MfMXqBeYHc8Zm+jdjMDNbv8n4/FTa3KcXi+rx7R18VH2/5veflu/TtK9QvcDDxTZfXw6yNs/UjHHzww9/6p9Iv3+jK6vv9+bt1tbW2zfrXS/QuMLqmprVzDyQk8MUZmaKofaGF6up79f8ZQviQ7rO9QIdg9mwmf6atfkERjMf1rbNdDX1/d5sYbx6s8b1Au+xeWDZ/FcxS5ycoM8nOGtM6Urq+7Xebun4kK5tvcCFNtPXymXzFN0Jj7+Ay+gzPV1Nfb9Xhs1br35Z13qBDpt3XYP5O8tlHhcnyubXtLua+n7C3o2f0Oi3369nvcDMVVbL5lvL5puMyRgwmM9WVN8PbN748R/ZAb1m9QLHT2fzZ43ZdGDNzWLn9y5v85Suqr6ftHlj46evcECna1gvcLxg1pjSnM0nFKdk0+bXdGX1/ZTNGz/+E2eO/yTrVy/w9HK+z/NsZus4bvBUunxHD1dW30/bbA7oN+tXL9A1nHfxvjlts5yY37//N7dZZHsBNt/Qv6+uvp9pszmg6+tWL/BwSZ/R5vfv/0jpGUuVost/3lpdfb+MzRsb//pKHaysW73A09l8n6/pDG2+0z6/Zz6/OlNjeWtrdfX9LJuNAf0hXbN6gfS5y2dYb5zT/1N37j9tXFkcT/CGNghSXA6yKVLCL1EjZEswUoQtxz94RyNrHWGjtSOPH7FmxsYOS2oZggCJqDyyW1o2j5I2/EQgjRKR3Uhppe4fuPcxjzvjsTMmHhMOShy30s3MZ74595w7d+YLv5vkTDjX9dbkv3A8rGJ2xd/PihkJ+rEh6PPlF2hXPBNBk1XQ1xnZxPmvc7/+qs1+apYe9KZxxvZ239+vGbPHaFZejZwrv8CAPed/f2uJCVN/cu3aPhx4sKyGBaiFUQhTw66EBTMj6MNz5RdYaL65ffWqifDD9WvPHpIPLWIANXTKHwAWjgFDDv8Re1vpCWZG0E9GzpNfYKA5P5sgGysazyYePtyXcYpY9Yg1gINwfBh9QZRxVsn0CLPRfU8dniu/QJBbU35m2Z/x7D1AxOOJwD//QHg/DE8hYYdJ8n72U48ws83KzjnyC7wM0IryxDWbeA+rS5j/n0jNiHMt/CeZI6FnmG277274BXq/7GNd7LrtF8juVzTl5Wv2MUGTSbh24PHQpIG+gqeHwTQrXfAL9Hq/9N4YCwaDhUI6nS645Bc4FAwZE6FNylhv2qVIrwDKG7UDMgXijlzuJWZW0H2f4hf41VfXhzBezDedQLGxsbk86ZZfYAAyHxXzuhXzkzATvVWzWdCn8AvEfXcgUKACpng3qtU1ReE4vrHiml9gv5o4mjGv22QN+v9YyuGTXmP2eJju2/n5ehHfAlVvIkH5Vqt7itLgeA4Fjz+2J93zC0yQisOEuXkL+cS+LMuZDMoWqFg2YQ7He46Z7b6dnm+wYODdQHglhJfw5XhRVErVaqrMc9vu+QXibUhw9bYK+Glz1ojRj3066zVH79XMNitvHJ3v1wXE+O+Y715DpUv4SqVqKpW/e3dmZiabF7nNSVf9AtPG6udtS3Mia8wRTVvK4ZOts+CsC3rXyfkOpRMbaxpfXuSk0l4Z48V81cimeH5l0l2/wJCRMJhFo2v3MnrdsR5pIeZwWPB4zlDQT5yc7430Bkq+PK9IpbImX0tkUxy/4qJfIJ4ZikxilmH+6evXr3/PZJaY8g48qyDQXPxZZA2j+95xcL5D6Q1OrJrla6GcLXONFRf8Am8EjaLRuKEtH0Qiq3FBiIOpit7f2ooAWZQD+FwwezyP1azxsfP9upDY46SZdpHNlri1ye76BXqDal0TUkOdAW9DRA+BLe/2VyORI3LntWbBfBKHg7PFHAUh9DG/QIL5blvMFYlbW+6iX2CAlDYhNlTlwrsjA3OcwSzT/3QANYQf4kzNDHB0ZpBJQ7gA8vg8QHu/QG8hscZVm/RLQvuWU1DZ3C2/wGDBjJi8KjtLd4HKd+7cedeMmbwYJpORM1Tqq6qcT+jH1plRJut1C5nxWZ/PB/G2foEIM8+VKU70gwlXKrlcPlWulvMaZlQ2D3THL7CvYJGxn+h4XxUzwnznN03Q+uNU67Ja4q1Tzui6nKDUAdLnMP9RyohzC79A/KhNX38wvdHgU6p8KwhvqixJkkgqPClFMed5fnOwO36BBTNkPVswmHVBq2XG+kOjwKOcBYRYWI3AyVliVqs5GB/3aZit5/uF14tXL2h7vcFxeSLfUklCbQnHRNUom7vjF+htS/nbpxQzFXTcfE+Q9iuykbojaooWzlDKw8d1FfNigjnfsf6hQIAuvunt9R5qShRRbwA5tYhOSRxXIlMjqucQ5u74BVowF1+bUN7+SeWMBQ2We6+0FRQYzHBwVpT1ThuJmWIGCGGzjb7ArRvs8hDmu7cncla8YrWcyuUq/mQyz3MlvZ5b7o5f4K2gmXPREtnEb7qgV+2DxYzjLNvsD0VZw4xAF2kXoPGt7u2t8Q0mN/CcqCgIbz6fyyb9akTLetLAmLvkF3grmLbmDUv8hxF02zjaincOWYwLkU9CLKIr+4GUcTjmEWV1CkScqXqxfPkGq15OlJRSuYzwJis6XwZziqqZlM3d8gv0BtPtSRuCfteO8ZYodsxoC+ZfvqzD6ukpxzHZDMQx4UWfOTIHe42GSb5IvQhvKp+rNOHVMUscTyuNnMhtX+qmX+CYTX9iL+gjO8JHW8cLCwun2AVzLMzNzT1//lwunvaWawQw5PlxlCuskH0+WdKSA6do2aE1X5VyUuHEvFrPcZvd9Qu8dOVKQJ8mHAv6CAHeIio+5UYjmKOYn2eOT4kZUVZTRRNk3yIoRL7Vaqo93qg/ikL9c0Xh+Byt50R+ZcQVv0BaVNLlIzpzhPAPFfQx/jn+jaCleEWPmidORzk+p2Geg9Nth/mFYB63pzyPOu58pVJpjVeNZBL3J+UcvhBRlCqUu3rZ7KZf4OX+viFyCx0jVyO9/GpBjRc6XT0+QcyfgBn11jhn2FNGM+A8ugTtACeTSYy3XEL1HJoYJYI5z9F6boYsg/bIL/Bi/xDpYvADG4daanj8g6eLmDHoucxUx5hJQ0KUbNQWFs5I6hhq1kIY4yWrFxLGq+fvMsGcMpXNvfcL7O8f0Z82/dEOc8d+fBpmFICOryjEQ/bH13rjrYrZ1xaznoCT0UouR1YvFN64uyqW0OxYFrkUuQhVrWxGSXrNTb/ANv55h9rzpo9ftMDcyXgmzAI8mn4kQMLu+FpuIy9mDDGDSdIZ9Gt2XAY1/VZyFW31grl5Te6u5tDkmPTnRB5j9if1sjkncdvLbvgFOvDP23llK2iKuePxBI1yPRsQpkkAjBGjONPxNWFWe+tjRsx1AJYy+TIPZHJLVUslRdTvrvKIL8aL+Bq9X4oX86TQKKllM72t7YJfoBP/vMmRXU3QUy8smDsfr1inlF8iMU+rcR/STcdnfcRH661p02eHGQDLGfJVxZAvp5QkJF+6cmGdE1OojNPK5rv6MqgbfoGO/PPQMLqgfzFj7ny8ySi8xJCFgW/i90dR/IMIesZ6fGbM+g6jQ3YCtGLG36BGemtRkqqqfFvWdmVOqaj1nJjT6zl3/AId+eeNDDQLugmz4/GyAkQL+PjgZ8x59DvM2W85PhYzs18OZGYCXLQkDSC/cyU1O7RrTrCIJa5EvqDWT8rpy6Du+AU69M8LDrzRBf2DFfNp/fj6QRjVBA0z5uOzfZh4ZFAVs7aMz2Kuk6Qhg5jyt2+utRa7xJVMZXM2W+XWVlzyC3Tsn7er1XZTPzZjPqUf3wwVNOFcMB2fzaPxu/0XCmbMbJdNFusWUReo5FqAzZoxo+pNLZvVeo7e1nbLL9Chf97/Lg6+mWIEbcF8Wj8+AJ2zHWZdylNvqINyC8x17eVAs/V4xe8kojneKJuZZVD3/AId++exzQqD+ZP8+IqE8/fT07Uie3zqa0uMtzwIILx9v/S+BWafhjnjA0eYo9G8yJN6Lkrruay6e8A9v0Cn/nkDlwYPTR3yQjf8+LKEMyNnsjfQ9BKeqcORC7B/M/YAWiUNjTNKzxkTztaFBiqbST1XQYVGntztxsugbvoFOvfP+2aHfdfTk47HK6QLTccn1Cjnv4WY4zP9NTsjF0JwE0csFtsHsG21ZVo4++CjhLWyWdTKZj6fx+sdCtdYcdMv0Ll/3sDli4eG0HY7Gc+P1SbE8c6Doun4xixyDhFdftCruEM03iBkbmrxALF+L2dgfnbRZ7fkDI6SRrLKSVrZjOps2i9uu+sX2Il/3th1rVk5dD5eAuD+tB6PAPqY44N/Uc4Ec1B/1R3k8AV9dR0/SgCwdNMSDxDupbf7qFzOyPP1+iyFXo85w+xn6znc0TQaa9vbbvsFduKfN3BFfa+k0/G8BRCmLQGCPl5fKG5gHgKtnR7Hj9RWdtF46HOfUp6wxr1792J6PMDkY0sO1SxxVa2ea2xvbq4sLy+77hfYmX/e2NjQTgfjaZC/H1UD1281CGjDJcDArE9yGmnhgl9X8kSbiMU0mVswC/SfRtFazymknkM9N4/KOJTl/uK+X2DH/nmXv3A8XgEeYcbfjZoCZ44CHesKo2YzZRyIkMbv3sTHgqCGOMvTyEHWspkug+KyefNSj/wC3fPjCwFR8qg1kKJBNS0VftYwF5ooo9AnvwlHEdORos84QJ3MjLMWQUfzdBkU52hu8//End9PG0kSx7PRZpOHi5QsZcMtRtrJjJQ1c9rFkU+7sgTGgok1CvbGBGlJREgggHNmgvgl5QWBEOcH8oA4rcRyivJwK+XhsspJu7o/8Lq6uqd7ZmwzhBmuyU8DNZqPi5rq6ur+XpJeYHp6fD9BIFwEHRpG0dIjoP96c1f8WV5gHIln3tdxxwznjGk0wIKWWY92KIPisvZ236XoBaanxwdEuc39tUo/vC3F2YFHnznihUL10aNOzsxG3JihcR4YmINaf60WLJUGy6AS8/r255eHOQU9vm+QMkH0GN9RnnY8ojKGyJWbnviCFosZnZ15cDCUZpw+88e7d6c7HTC/BHRmXLOaCaTUo3qiIfK52WQw//+E4lgKrJ58bRDx75sb31OiTAFafgGPGYM9MKuYcUeNX36RvIO0GVAMF6sLa/0d3TlQbX69eQl6gelhZpS1oOyBsPPddzfAi0ZquPJ9T8w+wt/vdBjEWmGe45j7ITBRXFaYl55P+Gnz60vQC0xPjy9IOZOBH7RUuhqh/MMVf2LSMTZ3cubgQM/eCXhzP4Qm4uEyKO8G3d9MWy8wRT0+B0JpXAs0Yw6EKM9d6Rozgph37vQYz54JzIeHtAIbKuNp+Rwvg1La3Je2XmASenyTwZGlMcVmJSGPhZxt5/O2bZqlUqmuB44C1A1juifmSs+YoRzax1yFXphFGXRg6fm9ib2vUtYLTESPzzRMw/Apl82ymbVtm82wW+EZCTDKeTtvImfTYJMH/hUtloXkDcOohzAvB/Lms2NGALPr9sb84t7skqg2r2+nrBeYjB6fiUNyzjNHLjPMLnSY+cE4YqavZyPv8jzacfP8/3LVOsL5r5+AGUQ/QRfM9RdUBh2oL+qY09ALTEqPL4A5mzXZR9kGN1zFyGR2HWgwzg7ANKfsD4MwL0fLGTP+JFBSfhcH85bE2wWzljbzwlGqeoEJ6fEJ7xTObJaz5cly3Z+XqNHEEkM5n0dHcwky+wb2h/DuaNVocnJOFucqsZxZYn4v8S6vdc40mBOv8H9gPreZql5gUnp8HLNlI+UhFjGYN09OYu0zRPkYDhB1fhqOWTB2CDP7zb6ZhfJOmJcns06kbBQL85zvxcurgfVvvQxal2XQVPUCE9PjM00ZNrIYMrJli2GOFuWQMvsznwNe3nDyk9yXs4SZgY4mGo0shDHv9MYsEroZLVis6suF0psfz97z87n9NPUCk9PjMwyEbBkGd2X2y7KqUczgsLkKYOTwyLer5M087eCco5hzUcynsTDDcufu57lIGRTT5q9S1AtMTo/P4JzZyGJgRsoWNMOY28D+j0UjFpiPM60m45wTTz+TUS6yjw6YzUit+c4ZmH8nzKudMY+qMuiiSpvT1AtMTt8PswaWOjPMZZ7NIeZIJR8OXmVkEbS9m2GoPaDAbCLkzt7cyL0/X2i+8+wtYe5I2X8Cjsq0eWBpguVzKeoFJqjvZ9CgdIF7cy6CGZ3Z02rNx7CbcYBT5pGZe3M4oVsz3N/Oi3knkM+F9maC3qbIMfMyaIp6gQnq+xk+Z/orS6G5EHTmAjqzVkpy2Isu5SjkzeORajMYzjmfgOF8rltoxnxOpc0p6gUmqO8nMbP5M+ZlRtaCKmJu6dPsQqEq2pn9yQp7lWO2KNHIz6mosbxMmCNPwLexMM9Ap31WgxAp6mPavP+nFPUCE9T3k5RL3J0ZaZtaXzTXrXqFXYiuBlarSJk4F/NlzZ2ROHsTIpjfxUw0arUI6Bo4qgwqdvcMYBl0OEW9wAT1/STlEkZn7s/UMqBFDebMXqdlV8hxzJxzuewozjhTrCvMW3FD86moaCzUaiHStZp6AGKnEc/nBnBZezhFvcAE9f0EZatE2TMDTT0DCnPL6dRCwFdUpjhmq4iYh+SxDYxyo4FvG4Q7NGI9AV/yRmcxVlf7V1fxHwBqH/ELsYmKdw9cS1EvMEF9P3Jl4c0W9+ZQl5F70JkyTr5LlvDnMg7RIuSgOUthPt9U+zdwddA0kDLfyjY/Pz87IXb38O6BFPUCk9T345At9GaLUbZswxKYC9oDsAtmNuu2BOeyGCMjwlzp3Jj9qbbrctBrivIMnKzMz8pjpCZmV5YwemC1efNainqBCer7GYiEO6VwZx9zy4/M0aqoH54F53IAs7B3Xsy05gpV1xWg+cOwVmNRqCmOiaGtbI+X5Irg+maqeoHJ6fuVS+IHnw10Z/8RKFwYQtldmHM9ilmagw/nwyyXTpruyZMfV1aaqoHuhOHFQ3geP677W9lGcVP868109QIT0/crFotByobfy4zR2fUK3WMGnyDSd1o+ZmXPhXD3XIzQ/HeYX1ycoHMGZk8o1v/45MlSdJ8rdg/sD6erF5iYvl9R4ywwu7KNmcVlr9AbcwYc/D7bNhVmaa8k2kEDfV07b9/1yjNYaOZnSC3iIUcM7+Ghv9N1NHRADNbn9odT1gtMSt+vqHEWmYYMzgUn9DTsNFowjXmg5Mwx++8bUNz4+hwDTuZf4CE8zSYP0YeHUcTylJh5lmh8lrZeYEL6fqbpcxFBowohyD0xZxwgzLZBmJU9yzCpvznQwHwGdBB8R10dM3ff0CE8K1ifS18vMBl9P1PHwucnoj3ffxL2fARi2BCYOecgZgs5H/loX57dG/oB3MCQ3pNZNGYAAA/lSURBVOwfwsMPCV0Up8TsXYJeYCL6ebc5lUDYEPFYx7zbE7NrUS3ULsmgIe2xHBEbC2piDxWSrlR6UWZTwDBm4usfwqMdYrm+dyl6gUno5/05iJn9nMtY0Wx6B3rUYFO8diQut3myYdMo2qYZxGyZlizc1Wob+j6qrUrlpT/4/p4t/MSv/SHOh4d0CM/zicAhoffWX7/e274kvcAE9POuFYtBzg2oFtr8OBLpyF6bgjP2kYcnJ8KdhTez3xKztOd0aXoePDo62qBxdFQbrPm7BFeJc/Nxk0+t/VNMBF+Gdx93Tm1v9vVdnl7ghfXzfMxFPzkYGxtDZ5Z+DHDrbxQ1WtUg511P5s7j4+TNtsIs7HXrrOu83Ef9tSd4yFH4CGHiu40704av37x589tvv7w8vcDu+nk3YtrDldMAl4+EWRaQmqivO9Ij19ilLkbfmwP2GhCX8arWLq6dEvrHH+vrhHd4c/jq8NWr/73Y/X6qXmBYP091nsazZ0rONnFGZ0bOInt+5XAZY22BSpThxKEltNkHBGSbMCt7kc66rqfQaa8BphET6+tv3rzZ+/nnzc2+z9lHXzL3+4l6gbp+HvsIX/Vse6YZ9GfCfMrQEWdvhmE+VNFCFRrA3xsBjubNuj23S8yI+rL+2gy82dtr2zb7ZYyMJHu/n64XqPqQ5LvrG4hhDxf0JBbk7Jxyzv/GTXmYaWQePrx1S3PeY59yS2V0hubNmj2Yqehwt7Zqg4NU+g+FjVqQPRg2Lsnki2gv2fu9gF6gGldCESqGPVzTlj/liPn+Asc8tlCdAt4XQ6f7Kec9DlPOOE5e82Zlz4XKhkYZN2YfDeLbF3LoiItD3pa5y8hIsvd7Ib1A/7LXIyXAs+xh1cfUwwZFjbFTXDPFwLFLB8+x8S8tOlcDeV1e82ZlDyq6M7NM+cHdCuQsq4QGZphXr67WltEwfws0zlAmyNybk73fi+gFdrlsLHs2YVFRo/pP4gwl08yxJJY4I43qrVsihWsFs+cp3Zt9e/eDmBnlBw/ubsn1lpxbZaPe4EkfP4JAwwwcM71tyd7vRfUCo5eNZ09gjrrzGnPnrDUH4O0KzMC8sBmt0GF3edSb80XnfRTzgwpY2jAoucHP6Jg31LxSYE7sfi+sF0hnTXa6bC97fbbkXKR2ff8hiO5s2zhfAe8/DyPPPZV4INOANwt7gKFYzfoqdxHzXScnZuG4HoaYSzngn6ls+JgrQW9O8n4vpBdI+lbXv5CX/YJdNKY97jUmNd9PloeGcA1PRufG9HSjAa8O0Ilbx83mcbSFAOp58aNA/scxk71gzNggzA8+OFNqHDemphqwwT9R2ZKUtyqg2Uv2fj9JL/D2DSVvJbrGrtMel+t/iWnPlO5cnBwaKo8zrg3pzjPO/fu53JLzCkGDF3bkNosh1cZ0WUWcoo/ZJG8ejHgzixq5XI6ZVYPHDB1zhWMmgwJzYvd7Xr1AfjL57dvyqrIBUo2Y9nA9G3PnIhKemrqPZIU7j0GVY3iFw+MPweZxu9VqtY+bDjjeAbjsy5k/Tk+PSy6YNwt7Qcy1SkVhxuH5mO/qmJfXELNmL9n7PZdeIF72S7wqlvnlOxa6bEx7jMi4OU6Ec0/pxh2RbIwtIBOXOLNx4FGArvIS6ceCJ5A9nULWZYnZJHvBrHkwjFl58wP6xK9+je4foNlL9n7j6wWqV+Rlw1dlT1fqH4thjzGZZohzT9nICc5PpTuPfUQo4BHlNk4O6/9r73xe2ziiOK6UtZ1UISKKEDS1DotWBLNpoyLjgwnRCpKNA27AIs2pewj04JyWUvYgUV9U9Q/orUGHHEwNPZRe+gd23puZ3RlpZa+dmX1b1HGbyHb0mfe++3Y0+2u+8lIh/PpDqlkUhagMk1nyXvz9pS4zVO2jP9bI/GikHm0zoOSZzbeoX2D6RjbD2cJe+SAvFpvcrvHH4m5tF+R1x8dipIykyFHU+l3qDEKKcv6VDyS7/MZcZTPge+Ht4fG435e85cdef8RyHrVer8jMZ3ojbU2HjGc236J+gTs7O3ID1Z2006b6WDt0rGzcy3kn8uNIqByBzK/eSJmfYTm3pMgg7PetX775U/76zUvYLlB8+Paw/17yVs4a8XXQlos52hXT5jN97QweTfi+bzbfgn6BDp/AyG9Fp018TD7rlt9zWoS3FSoJo8Q4erQ+yAay/ND68EzRvdXKvvurJUcajuh/FC9fr8j8Laj8bmXMYDKPHo20YoZnAF/xfeS7vtl8i/oFijN++gCLvWYLGqjdXsU71iorwslWFIEn3kve4Bcvs/biBfuIhCYPWLCY8c2hKvPqYmmg82/aVuFKgs7qMWBWzgz4sW8234J+gULmrx5rHfNOs3UjeL+FeMGSzrKmcXYbRumIrW8L7QfwPQ4a0e5x//2xlDmvvVwVmf3Td6Ofls/189E5xEHDZL5F/QL56dXHj+8pA4m8h18drrYL8jrBSbikYrgkZKQrHC6rHIlBnc0Ngn5f58lRSEFFyxstf4vsCp7ZfIv7BWK/90S3suvltWbSla6v4nU6TGiYM2u5K5OPSBd2ZRtEfAeA+VcA89wcXjpR3M0ZMtZstZRnNt9r+QXefqB2m3YMfWT9FuN1oMFB9vFxuDowhOlsLXsRLsvCjgRPmCbscGJvD2TO5UWSpw860W7OZtN4ZvO9nl8g6za1Gsj2JdV84k5BHsrc8dvtYJwdbaeDtCpqqPwpfwQ1Nx4PQZJ9PIfEZc7jia9wVy/pFd7JEs9svjfzC0QfO9mtuFb4RPzLYjwhc6fDn/LzDuHk0QkIxFoIKkGLQihapcHhNSgyDuD8qdBEkdkcz2y+n+IXmBrZYa9PpL9RIR6qEgQd1AVPAONJieEwCMasIMeQOvwl2hj+G48PD91Dz4OFIdoBX/JBk/laPPiJ4LVzeGbzNeQXuL39hWKJVoAnZA5E+eG59i6//uHjwkZ4Bmc/CA6D9HIHnJWHV+0hrFqA5bcs8zV5rucDDxa0WuaZzde8X2Axnp+WM1/vgSnY7fqwugBfYaArVAkCTzxqBc+iwZ22XBdW0YFSfmLQuA4PN5qb8YZdjWc2Xzt+gVfzcNkiPkDLhWKw9uD8aKpKKgs8/gDV6QtZhrg+RDdQZLkZjwGBh0tadYeHCs9svpb8Aq/k8WwUXVxxyVSs4pCpAk8aC1n4feOoC8oScJ3ZD7jMN+bBVmNfKs9svpb8Aq/keXsd9vU8k0VemfbEoiRSFnxwHr9ENae7+bDLZIGnAZnoTOZP5MGXyjOcryW/wKt4HpOEi9KRk7BuVn5dX6jCH+d2URuvy1d38PH5Vli8J4A1fLAxmT+N18ZqVniG87XmF3g5z8Md/LmqC7+tjl/Tc6H+Aq4LLgOBunheupvzK+PtdiazYZ7hfC36BV7GYyIETJS9TBevm312BUwfn+2+8IGFEy9s/EUqy77fVmTxDPMM52vXL3AtD7NlqjzXZge4lJfLy3AvfQobH7R0cU7gSl1gvGUzYkVmwzzD+Vr1C1zPw4MNpke7o+sCOQpZuC6HSv0psvBl6NqazEZ5hvO17heYz8MEISFdFp6kJotQJis/X6wrc6jJcl0eYC7jGc7Xtl/gGp5UpZ2qsq+MjUOUZU+TRdnL2f/waCtOvRSZjfIM51uCX2AeT4gidQFZlE+gNi8/TRj+meUpsrAhQpHZMM9wviX4Bebx3EwCuY/78luYEnfTsziKLtkkAWUZqrKY5hnOtxy/wBUe5OL7mi7pHu+77I/97KykOkWQuoAow86+JrNRnuF8S/ILXOahKn5WgEP82+0obUUXuD1XytIFVYZaNZvlGc63NL9AncckUcdO0TRZFG1AFvw23cmxAF1FFtM8w/mW6Be4JHO7iCxSGU/MIFytaTKb5RnOl8gv0M/VWd/JhzkaeWtlNswznC+RXyBfcOQyWWBt92vJbJZnOF8iv0A/X2f/k2Q2yTOcL5Ff4BqZXc+szDfnGc6XyMhujcxtT/2gWi9LoKuyVuab8wznWy2ZXcMyu/8tmY37BRap5m7HbDVfi2c2Xyq/wCLVXFwWt2+8mc2Xyi/QMM+8zGbjo/ILLJPXWOXVS46Pyi+wVF5zlXen3Pio/AJL5DV79PFR+QWWymuSx0flF7hhPCq/wA3jUfkFbhiPyi9ww3hUfoGV4PXmi7ic+Kj8AqvAmx6wdl5KfFR+gfS8f1Dlg4UznU8mc8dufFR+gRXgTQ6UNqlbjY/KL5Ced3GgtQur8VH5BRLz7k/nc03lyY7V+Kj8Akl5n59zbc9O356e8ZdTu/FR+QXS8hYo7egttDOpss34qPwCSXkODhhnqPLbEQwZTy3HR+UXSMvrgcynXOZTHJpv2Y2Pyi+QlvfwnM3m3mbVzEYNu/FR+QUS82rTtJrPUpktxkflF0jMezDFeUaq8uS+3fio/AKJeQ0+oTtDkecXbHLwmdX4qPwCiXkD5chksfWQn9qxGB+VXyA1b8o+AxfiyIQxek278VH5BZLzHl40tnD6PGGIZtOxGx+VXyA97+GWU2M1PZk3kmQ2sxwflV9gJXhO3TmP4yPW4pnd+Kj8AqvCS46wxT278VH5BdLzmrPanZ0tXsvJzHJ8VH6B5LxafJT0du6AykkysB0flV8gOe821PEsgWG5XrceH5VfID1vxkflo6R+1358VH6BFeCJT79ZGfFR+QWWwYsXc+cSXo3rXC8jPiq/wBJ4cMFvMl3P27kLOselxEflF2iVB/e3TO/zUxbTy3jxUdwoJT4iv0CbvIF+n8slPCc5SsqJj8ov0CLvXL/P5Xw9bxDHJcVH5RdokfdUq+aD+Xzq5PO2BvGgpPio/AJt8qYrN7tc5PMGs7Lio/ILtMWrgyrT7DYMft16kc9zamXFR+UXaI9Xd+5fwLDxs3Lhek4dH5VfoC0eTsAmy3e7NKnjo/ILtMeri7F5JG53YXO6c/L4iPwCbfLqXOaztJqn9PFR+QXa5DUmmc4w15jSx0flF2iX17iYK7e7HDTI46PyC7TKqzHeQjlCGZDHR+UXaJPnNNh0VhyjLOAsHX18VH6BNnn3MH0coOfO1xdViI/KL9AqbzCbJc58wuq4KvFR+QXa5A34XQHxOTtUrjv1KsRH5Rdok9eIxcXU6sRH5RdolTdIeD2zY+9G0qtCfFR+gVZ5dwcJXk594AySo7hRgfio/ALt8m45zVkMtxPBEN2sQHxUfoG2ebeaibzdpQrxUfkF2ufNUpWrEB+RX6B9Xo2r3KhGfER+gSXwElT5XkXio/ELLIHHps9xpeIj8Assg5egzNWIj8gvsAzeThz3qhIfkV9gKbxePKhKfER+geXwZoOqxEfkF1gSz6lKfER+gZvGI/IL3DQekV/gpvGI/AI3jUfkF7hpPCK/wE3jEfkFbhqPyC9w03hEfoGbxiMysts03v+yVEhm436BG8b7F5vwms2Kh4t2AAAAAElFTkSuQmCC" /></p>
<h2 id="code-reference">Code reference</h2>
<p>Here is the complete <code>GameBoard.gd</code> script with the changes from this solution.</p>
<pre style="color:#f8f8f2;background-color:#272822">class_name GameBoard
<span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Node2D</span>

<span style="color:#66d9ef">const</span> DIRECTIONS <span style="color:#f92672">=</span> [<span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>LEFT, <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>RIGHT, <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>UP, <span style="color:#a6e22e">Vector2</span><span style="color:#f92672">.</span>DOWN]

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">var</span> grid: <span style="color:#a6e22e">Resource</span>

<span style="color:#66d9ef">var</span> _units :<span style="color:#f92672">=</span> {}
<span style="color:#66d9ef">var</span> _active_unit: Unit
<span style="color:#66d9ef">var</span> _walkable_cells :<span style="color:#f92672">=</span> []

<span style="color:#66d9ef">onready</span> <span style="color:#66d9ef">var</span> _unit_overlay: UnitOverlay <span style="color:#f92672">=</span> <span style="color:#f92672">$</span>UnitOverlay
<span style="color:#66d9ef">onready</span> <span style="color:#66d9ef">var</span> _unit_path: UnitPath <span style="color:#f92672">=</span> <span style="color:#f92672">$</span>UnitPath


<span style="color:#66d9ef">func</span> _ready() <span style="color:#f92672">-&gt;</span> void:
    _reinitialize()


<span style="color:#66d9ef">func</span> _unhandled_input(event: <span style="color:#a6e22e">InputEvent</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> _active_unit <span style="color:#f92672">and</span> event<span style="color:#f92672">.</span>is_action_pressed(<span style="color:#e6db74">&quot;ui_cancel&quot;</span>):
        _deselect_active_unit()
        _clear_active_unit()


<span style="color:#66d9ef">func</span> _get_configuration_warning() <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">String</span>:
    <span style="color:#66d9ef">var</span> warning :<span style="color:#f92672">=</span> <span style="color:#e6db74">&quot;&quot;</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> grid:
        warning <span style="color:#f92672">=</span> <span style="color:#e6db74">&quot;You need a Grid resource for this node to work.&quot;</span>
    <span style="color:#66d9ef">return</span> warning


<span style="color:#66d9ef">func</span> is_occupied(cell: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    <span style="color:#66d9ef">return</span> _units<span style="color:#f92672">.</span>has(cell)


<span style="color:#66d9ef">func</span> get_walkable_cells(unit: Unit) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Array</span>:
    <span style="color:#66d9ef">return</span> _flood_fill(unit<span style="color:#f92672">.</span>cell, unit<span style="color:#f92672">.</span>move_range)


<span style="color:#66d9ef">func</span> _reinitialize() <span style="color:#f92672">-&gt;</span> void:
    _units<span style="color:#f92672">.</span>clear()

    <span style="color:#66d9ef">for</span> child <span style="color:#f92672">in</span> get_children():
        <span style="color:#66d9ef">var</span> unit :<span style="color:#f92672">=</span> child as Unit
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> unit:
            <span style="color:#66d9ef">continue</span>
        _units[unit<span style="color:#f92672">.</span>cell] <span style="color:#f92672">=</span> unit


<span style="color:#66d9ef">func</span> _flood_fill(cell: <span style="color:#a6e22e">Vector2</span>, max_distance: <span style="color:#a6e22e">int</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Array</span>:
    <span style="color:#66d9ef">var</span> array :<span style="color:#f92672">=</span> []
    <span style="color:#66d9ef">var</span> stack :<span style="color:#f92672">=</span> [cell]
    <span style="color:#66d9ef">while</span> <span style="color:#f92672">not</span> stack<span style="color:#f92672">.</span>empty():
        <span style="color:#66d9ef">var</span> current <span style="color:#f92672">=</span> stack<span style="color:#f92672">.</span>pop_back()
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> grid<span style="color:#f92672">.</span>is_within_bounds(current):
            <span style="color:#66d9ef">continue</span>
        <span style="color:#66d9ef">if</span> current <span style="color:#f92672">in</span> array:
            <span style="color:#66d9ef">continue</span>

        <span style="color:#66d9ef">var</span> difference: <span style="color:#a6e22e">Vector2</span> <span style="color:#f92672">=</span> (current <span style="color:#f92672">-</span> cell)<span style="color:#f92672">.</span>abs()
        <span style="color:#66d9ef">var</span> distance :<span style="color:#f92672">=</span> <span style="color:#a6e22e">int</span>(difference<span style="color:#f92672">.</span>x <span style="color:#f92672">+</span> difference<span style="color:#f92672">.</span>y)
        <span style="color:#66d9ef">if</span> distance <span style="color:#f92672">&gt;</span> max_distance:
            <span style="color:#66d9ef">continue</span>

        array<span style="color:#f92672">.</span>append(current)
        <span style="color:#66d9ef">for</span> direction <span style="color:#f92672">in</span> DIRECTIONS:
            <span style="color:#66d9ef">var</span> coordinates: <span style="color:#a6e22e">Vector2</span> <span style="color:#f92672">=</span> current <span style="color:#f92672">+</span> direction
            <span style="color:#66d9ef">if</span> is_occupied(coordinates):
                <span style="color:#66d9ef">continue</span>
            <span style="color:#66d9ef">if</span> coordinates <span style="color:#f92672">in</span> array:
                <span style="color:#66d9ef">continue</span>

            stack<span style="color:#f92672">.</span>append(coordinates)
    <span style="color:#66d9ef">return</span> array


<span style="color:#66d9ef">func</span> _move_active_unit(new_cell: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> is_occupied(new_cell) <span style="color:#f92672">or</span> <span style="color:#f92672">not</span> new_cell <span style="color:#f92672">in</span> _walkable_cells:
        <span style="color:#66d9ef">return</span>
    _units<span style="color:#f92672">.</span>erase(_active_unit<span style="color:#f92672">.</span>cell)
    _units[new_cell] <span style="color:#f92672">=</span> _active_unit
    _deselect_active_unit()
    _active_unit<span style="color:#f92672">.</span>walk_along(_unit_path<span style="color:#f92672">.</span>current_path)
    yield(_active_unit, <span style="color:#e6db74">&quot;walk_finished&quot;</span>)
    _clear_active_unit()


<span style="color:#66d9ef">func</span> _select_unit(cell: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> _units<span style="color:#f92672">.</span>has(cell):
        <span style="color:#66d9ef">return</span>

    _active_unit <span style="color:#f92672">=</span> _units[cell]
    _active_unit<span style="color:#f92672">.</span>is_selected <span style="color:#f92672">=</span> true
    _walkable_cells <span style="color:#f92672">=</span> get_walkable_cells(_active_unit)
    _unit_overlay<span style="color:#f92672">.</span>draw(_walkable_cells)
    _unit_path<span style="color:#f92672">.</span>initialize(_walkable_cells)


<span style="color:#66d9ef">func</span> _deselect_active_unit() <span style="color:#f92672">-&gt;</span> void:
    _active_unit<span style="color:#f92672">.</span>is_selected <span style="color:#f92672">=</span> false
    _unit_overlay<span style="color:#f92672">.</span>clear()
    _unit_path<span style="color:#f92672">.</span>stop()


<span style="color:#66d9ef">func</span> _clear_active_unit() <span style="color:#f92672">-&gt;</span> void:
    _active_unit <span style="color:#f92672">=</span> null
    _walkable_cells<span style="color:#f92672">.</span>clear()


<span style="color:#66d9ef">func</span> _on_Cursor_accept_pressed(cell: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> _active_unit:
        _select_unit(cell)
    <span style="color:#66d9ef">elif</span> _active_unit<span style="color:#f92672">.</span>is_selected:
        _move_active_unit(find_closest_walkable_cell(cell))


<span style="color:#66d9ef">func</span> _on_Cursor_moved(new_cell: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> _active_unit <span style="color:#f92672">and</span> _active_unit<span style="color:#f92672">.</span>is_selected:
        <span style="color:#66d9ef">var</span> target_cell <span style="color:#f92672">=</span> find_closest_walkable_cell(new_cell)
        _unit_path<span style="color:#f92672">.</span>draw(_active_unit<span style="color:#f92672">.</span>cell, target_cell)


<span style="color:#66d9ef">func</span> find_closest_walkable_cell(cell: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Vector2</span>:
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> _units<span style="color:#f92672">.</span>has(cell):
        <span style="color:#66d9ef">return</span> cell

    <span style="color:#66d9ef">var</span> closest_cell :<span style="color:#f92672">=</span> cell
    <span style="color:#66d9ef">var</span> min_distance :<span style="color:#f92672">=</span> INF

    <span style="color:#66d9ef">for</span> direction <span style="color:#f92672">in</span> DIRECTIONS:
        <span style="color:#66d9ef">var</span> target: <span style="color:#a6e22e">Vector2</span> <span style="color:#f92672">=</span> cell <span style="color:#f92672">+</span> direction
        <span style="color:#66d9ef">if</span> _units<span style="color:#f92672">.</span>has(target) <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> _units[target] <span style="color:#f92672">==</span> _active_unit:
            <span style="color:#66d9ef">continue</span>

        <span style="color:#66d9ef">var</span> distance :<span style="color:#f92672">=</span> target<span style="color:#f92672">.</span>distance_squared_to(_active_unit<span style="color:#f92672">.</span>cell)
        <span style="color:#66d9ef">if</span> distance <span style="color:#f92672">&lt;</span> min_distance:
            min_distance <span style="color:#f92672">=</span> distance
            closest_cell <span style="color:#f92672">=</span> target

    <span style="color:#66d9ef">return</span> closest_cell
</pre>
</body>
</html>
