<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>TmppW70nhhbLx</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <style type="text/css">:root {--c-caption: grey;--c-blue: #26bfe3;--c-green: #02e180;--c-orange: #f2971a;--c-pink: #e3266f;--c-bg: #fff;--c-bg-alt: #f5f5f5;--c-text-header: #fff;--c-text-body: #95989a;--padding: 20px;--padding-inv: calc(-1 * var(--padding));--fonts: "Open Sans", -apple-system, system-ui, "Segoe UI", "Roboto","Helvetica Neue", Arial, sans-serif;--font-size: 1.1rem;}html {font-size: 100%;}body {color: #444;font-family: var(--fonts);font-size: var(--font-size);line-height: 1.7;padding: 1em;margin: auto;max-width: 800px;background: #fefefe;}a {color: #0645ad;text-decoration: none;}a:visited {color: #0b0080;}a:hover {color: #06e;}a:active {color: #faa700;}a:focus {outline: thin dotted;}a::selection {background: rgba(255, 255, 0, 0.3);color: #0645ad;}*::selection {background: rgba(255, 255, 0, 0.3);color: #000;}p {margin: 1em 0;}.caption {text-align: center;color: var(--c-caption);font-style: italic;}.note,.tips,.warning {display: block;width: calc(100% - var(--padding) * 2);padding: 0 var(--padding);padding-bottom: var(--padding);background-color: var(--c-bg-alt);}.note:before,.tips:before,.warning:before {display: block;margin: 0 var(--padding-inv) 10px var(--padding-inv);padding-left: var(--padding);font-style: bold;color: white;}.note:before {content: "Note";background-color: var(--c-blue);}.tips:before {content: "Tips";background-color: var(--c-pink);}.warning:before {content: "Warning";background-color: var(--c-orange);}img {max-width: 100%;}h1,h2,h3,h4,h5,h6 {color: #111;line-height: 125%;margin-top: 2em;font-weight: normal;}h4,h5,h6 {font-weight: bold;}h1 {font-size: 2.5em;}h2 {font-size: 2em;}h3 {font-size: 1.5em;}h4 {font-size: 1.2em;}blockquote {color: #666666;margin: 0;padding-left: 3em;border-left: 0.5em #eee solid;}hr {display: block;height: 2px;border: 0;border-top: 1px solid #aaa;border-bottom: 1px solid #eee;margin: 1em 0;padding: 0;}pre,code,kbd,samp {color: #0084b8;font-family: monospace, monospace;}pre {background-color: #f9f9f9;padding: 1em;font-size: 14px;white-space: pre-wrap;word-wrap: break-word;}code {white-space: pre-wrap;}b,strong {font-weight: bold;}dfn {font-style: italic;color: var(--c-blue);}ins {background: #ff9;color: #000;text-decoration: none;}ul,ol {margin: 1em 0;padding: 0 0 0 2em;}li p:last-child {margin-bottom: 0;}ul ul,ol ol {margin: 0.3em 0;}dl {margin-bottom: 1em;}dt {font-weight: bold;margin-bottom: 0.8em;}dd {margin: 0 0 0.8em 2em;}dd:last-child {margin-bottom: 0;}img {border: 0;-ms-interpolation-mode: bicubic;vertical-align: middle;}figure {display: block;text-align: center;margin: 1em 0;}figure img {border: none;margin: 0 auto;}figcaption {font-size: 0.8em;font-style: italic;margin: 0 0 0.8em;}.author {font-size: 1.2em;text-align: center;}tag {min-width: 3.2em;text-align: center;border-radius: 8px;padding: 0 4px;margin-bottom: 0;margin-top: 4px;margin-right: 0.2em;display: inline-block;color: white;}tag.update {background: var(--c-blue);}tag.new {background: var(--c-green);}tag.update:after {content: "update";}tag.new:after {content: "new";}button {background-color: var(--c-blue);color: white;border: none;cursor: pointer;line-height: 2rem;font-size: 1.2rem;margin: 0.75rem 0;overflow: visible;padding: 0.75rem 1.5rem;border-radius: 1rem;transition: background-color $transition-duration;white-space: nowrap;}</style>
</head>
<body>
<h1 id="adding-a-custom-button-to-the-toonscenebuilder">Adding a custom button to the ToonSceneBuilder</h1>
<p>With plugins, we can do more than react. We can change the inspector to inject new functionality. In this tutorial, we look at how to add a button whose job is to find mesh instances and connect the light and specular viewports to their shaders.</p>
<h2 id="register-a-custom-inspector-plugin">Register a custom inspector plugin</h2>
<p>Create a new script next to <code>plugin.gd</code> called <code>ToonInspector.gd</code>. This is a <code>tool</code> script that extends <code>EditorInspectorPlugin</code>. Its only variable is a single button.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">tool</span>
class_name ToonInspector
<span style="color:#66d9ef">extends</span> EditorInspectorPlugin

<span style="color:#66d9ef">var</span> connect_button: <span style="color:#a6e22e">Button</span>
</pre>
<h2 id="check-if-current-object-is-the-right-one">Check if current object is the right one</h2>
<p>The button only appears when the <code>ToonSceneBuilder</code> is selected, so we need a <code>can_handle</code> function to return <code>true</code> when that is the selected object’s inspector. Otherwise, we return false.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> can_handle(object: <span style="color:#a6e22e">Object</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    <span style="color:#66d9ef">return</span> object is ToonSceneBuilder
</pre>
<p>Adding the button happens in <code>parse_category</code>. Godot calls this when populating the inspector. We don’t care about the category, but we do care about the object type.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> parse_category(object: <span style="color:#a6e22e">Object</span>, category: <span style="color:#a6e22e">String</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> object is ToonSceneBuilder:
</pre>
<p>In that if block, we create the button if it’s missing and connect to its signal. Then we call <code>add_custom_control</code> to add the button to the list. Note how we pass <code>object</code> along into the signal connection. It’s the <code>ToonSceneBuilder</code> and we need it to access the viewports.</p>
<pre style="color:#f8f8f2;background-color:#272822">        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> connect_button:
            connect_button <span style="color:#f92672">=</span> <span style="color:#a6e22e">Button</span><span style="color:#f92672">.</span>new()
            connect_button<span style="color:#f92672">.</span>text <span style="color:#f92672">=</span> <span style="color:#e6db74">&quot;Connect ViewportTextures&quot;</span>
            connect_button<span style="color:#f92672">.</span>connect(
                <span style="color:#e6db74">&quot;button_down&quot;</span>, self, <span style="color:#e6db74">&quot;_on_Connect_Button_down&quot;</span>, [object]
            )
            add_custom_control(connect_button)
</pre>
<figure>
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAX0AAADxCAIAAACoHvARAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFyGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA3LTI3VDE3OjUzOjMwLTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA3LTI3VDE3OjUzOjMwLTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0yN1QxNzo1MzozMC0wNDowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDplZWQxYzkwYi00ZDAwLTFiNDUtODc4OC03ZGYwODA3ZDk4MTkiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDplMTNkYWVhOC1lMTk1LTk2NDUtYWEzMS1jOWYzYjQzZDAwYmUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0OTE5MjVjOC03ZmU3LThiNGEtYjliNi1hODg3NWEyN2IzNzciIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo0OTE5MjVjOC03ZmU3LThiNGEtYjliNi1hODg3NWEyN2IzNzciIHN0RXZ0OndoZW49IjIwMjAtMDctMjdUMTc6NTM6MzAtMDQ6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4xIChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZWVkMWM5MGItNGQwMC0xYjQ1LTg3ODgtN2RmMDgwN2Q5ODE5IiBzdEV2dDp3aGVuPSIyMDIwLTA3LTI3VDE3OjUzOjMwLTA0OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+agEq4wAAQtBJREFUeNrtnQd0Fse5/p38EzsuiWODC7hRREdIiCbUhXrvAvXeu4R6770jod5BgA0GXLDpRRQBJi5JruMk2L65cRI7N8nNjW9yT04u/+f7BobxfkWfaFZ59zxHZ3d2d77Z1c5vn3dmdvchMysPEolEepB6iE4BiUQi7pBIJOIOiUQiEXdmtNxzCyovXroMYQaLdE5IxB3SfSROTkEFcPOZMGERiUSfw28dyy2snuwqEnGHpClxmNNhrmdC+nj7RQ3t2n927PL5i++98dbxrLyKSf30nlcPp2eXTrhZ8vaC6ro2xfQ33j5eVtUsprh5hV5578Pg8OR7WwbiDnGHdI/16v5DInHMrW+mY0akDzaT7IgNjp04NzD8alB4UmBoYmZueUJK3qR+GjXWLyhuws26encp5U5xeeNbR05KUt49fvael4G4Q9wh3WOpjqrcRe5gkuzo6hly9dpHW/2jFfO0tPNubO0+ffbSxcs/Qc10dg9iVTQyNr2tY/DC+LXyqhZJpcV8dl7l6N5DsE4nTp3PK6ph6Z09I/gVJjBO0d2I1EAmlbU7MBMQkrBrz+tnxsbPnb/SN7jXzsmXb6CmDGr2Kq9uwSocDsomgkbcHUfdtKMH7g85gJUOrv4sPSu3/J1jZy7J961t2EmXHHGH5MGhI9JHsa1HkTsWtl6nzlysrm9XzLOxpRu+IyYhC1RK3l7Iq+jb75xCzQwITXDxDFbkzplz4/BNsFFRcRmopWFRqWwVKrxSvwPt2/9mbWMHm9/qFwU2eflGYt7LJzIxNd/FI9hjW/ibb5+oqm3TpAxq9jp3/jJWAbVpmcXjV94PjUxV5E5dU+f+g0dwyO7eYSOjBwZHXpPl6RvJjgUYCgxLjI7PpEuOuEPyuMUUqbtRnBT3DQ5PRqh16I2jsCo2jj4s0cp+K2pmXFKOYkiya89BVUEK5pvbevmq7r7d0ITcycqrOHZyjMWGwMTrh99V3Abp3CipL4Oavdo7B/mq3oE9sDOS3XHUF8evBYUlsXT/kHhAEOfENzAWZ0OTcJJE3JmF3LkdW2nOHeZ6ktIK4DvgVsKj02S+wz8aVc7ZI0iRO0Wl9Wq4U1hSx1eVVTYfOHhkQu7YO/vJ3UcK5t89dqaguJalw1n0D+17652TR46eRsGQgyZlULNXcVnD7bJV3S4b3525LRZkySO1y1j0CYjBKsRWsDygWJj8/JCIOyQPRaZMijtcdY0dx0+OYWZbQIwq7kichYQ7JRVNfFVFTasm3IFQn1va+gJCEi5f/cDJLRApCKAuXHqvoKTO0s4bi5W1O0SCqCqD+r2Kyxv5LuVVLYrc2SanLcI3xGJcgPLNtjCvEMSDF8av8aiQRNwh7nwmtijfGXdiE7MvXv4JQh5rh21AABYnyx0evEDDuw/wRczXqG6OTUzNlzUz1bVxTMQn57CSsMWe/lFNuKN+r53dw3yXvsG9SuMsmJrk7QVqThH8DtwZ4xqJuDOr9dr+w5L+LKXQUexH9w2MRfSBGAeBVXR8JmogKiRb1dre/87R0xEx2718IlEVEQ1pwp3zF6+mZRbDGmTnV15570MWPUHNO3oPHn4XfkTRQ7EKP3bh6umzl7AvLxisR2xStoOrf3p26bnzVzThjvq98BM4EJRhe1YJj+wkGcLLnDx9IT451907DCHbzfjLPzolvRDex97FHwHaiVPn6ZIj7pCk/eWKTcuqnpnw8o3c+9obZ8cuox4eO3GusaXb9lbHMyzPjp39Z8bG4SCADNajPCF3UC1R1S8p9FW7eYXuP3gEWcGDKD2EnV1DCGF4wzZrgjlzbhxxE3ZJSMnVhDvq94pLyhndewhlA1lyCqqU7o6oqrZhJzbACcEh1MlDKm+/KARl5y++B7164C0EYnTJEXdIykcJqifOA34WgUQi7sx8+hw9dgoSxy4Td0jEHdLsevaSRCLukIg7JOIOiUQiEXdIJNKU5s6CJWtJJBLpQUrGnaWrDUkkEunBiLhDIpGIOyQSibhDIpFIxB0SiUTcIZFIJOIOiUQi7sxMrd1kJfuKyzsnL47L3szQO7DHzMrj2y1SUFhSXlGNYvqBQ+9k5paLKQamTlfe+9DRLXBw5LXwmO1T4XyKhcdZ5V+w4Gpo6b5XJ4RE3JmW0tO3efudUwcOHgkMTbS02+ruHZZfXKuzwfLbLVXTjh6l1Swts+TgG0clKSg/ZuKTc60ctk2FUyoW3sjclY1qHd17iL/ncKOR/b06ISTizrQUKsPRE+fWrLNQXLVK16y0sgkOCD5o996Dds5+LH3/wSNRcZl9g3vPnb9y7MS57LxKvouaVSt1TcurW06fvQQ17+gF7/ivlFU2y3/lGnbfaGjf1NrDrUFnz4iiuxH5gl1yC6rZDNCj5rfg44rK6tkGPgGy9wEGhCSwxcKSut7+UZZJTELWwPC+sQtXcVoSUvI0ORse28JrGzrOX3ovM7dCVeEHhl/Fr4jHorSQW/2iL1y6ZrzFlW2DHDq6hxXzRNlCI1N5Vrv2HNyeVaq0PGrOfHR85ptHTuBwjh4/KykbibhzH7VM2xiASEorULq2pKLxjbeOO3sEm1i44bo8MzbOLllc2Zh38Qhepm1k7bANvHD1CuUXvapVxWUNo/sOmdt4Gpo5o5LzOonKDMPi7ReFVUHhySwR5FJ1ex/efaCw9CY+zK09UBVNrdwl3FH6W6kZxXtePXyTtvXt7x47W9/UyRaRnpJexDI5deYimILye26LQJ108QyZ8GwcflP2KT7spW/soKrwitxRdUJAGWyMGf+QBJBig4GdYp7quSMpj9IfwkljR4ejsHfx9/KNpOpA3HlAwjWNeuvmHarE7Kw1u3T5J8DB7baVg0fSs8vYlY16y9OHdu1PyyzmF73SVcgNt3EH1wCWbuPoi9/VWW+xWs8cvwL3Ifl1NdyJTsh659gZcAHzuYXV+/a/yX+acUfVb2Fm/Mr72uu2yOrt8bOg7fGTY5iH10O6tdxDIZOKmlb+Wy1tfc1tvROeDZR2wsJLuKOqkKy5DQVL2l4AwxgSmaI0T/XcEcuj6ofYq+OnSGRK3Jld0jdxxFXILYko3B6xSmyJgDtglRBXNnMHTN19u3mVULWKGRNm9aEz58axaGnnrfgrE3IH1RIVBr6Dtdpys8a5o+q3YO4wjxgElQ1uBRXy3IUrwA1u9diMgQyZJG8v5L+VkVPGLJLmZ0ND7qgqpBgGdvXuUpWneu6I5VHzQygPLA/iONdbno5E3HkQWrHGBDdDHp6IQuVUrGm4/0siGkXuKF21xcYLucmcv4kj1wodEwtbr8lyB0JVqazdYevke/nqBywMEX9a1W+xHWGR4FNad/azxfTs0vzi2vbOQZ4JUvgPZedXMu5ofjY05I6aQkIJKXmwYK/ufxP/IE248+qBt0TuiOVR/0ObTZwQtJ6/9B4PXUnEnQehnV1DcA24+UvStfXMgaSt/tGKfdh3wB3kj1trUFiS4q+ggom/wtTTP1qguqUzICTh+KnzyFkMKMQ4S+lvsfo8OPIaEMDil+j4zIHhfcO798cl5fBMmnf0isVo2tEzqbOhqvCKcZaqQhqZu45duIqY7vXD7/JBA5I8D795DPEmv3nAyKjijpof4oLfwX9hpa4pVQfizgOSiYUbgo6Dh98NiUhB0OHkFhibmMNus7KW1LePI8XAzBmm4OzY5XWbbe6MOzJXX1p/7MQ536A4QzNnexd/vllVXdubb59w9w4ztXRH9UAYhcSK6lbc7fWNHZR2OctCpPNXTp6+EBqVpsgdNb+Fmz8CDUhvk7UszDR2QKiF42It0ywTpMBKwAjEJmZfee9DFtBpfjZUFV6xXVlpIRHuDe3aXydv8HZwDbg4fo3FRJI8QUMAFDQELHIKquBoVHFH1Q8hcgwOT4b3wakA3WCgqC4Qdx40ehAyoBojbAGD+of2Me7gb35RzfGTY7hhju49xNsm74w78PaoeMgNt1Zc5bxLW3vdlur6dtyxUcdQtVgnkYGp0+i+Q0hpbe9XWmaEOYgOxO5/8adV/RZ04tT5kdEDYvOwWOWQCSohbJSsd/nEOfFYNDwbqgqvyB2lhURWSFm70YptU17dghgKPy3JE7zoHdgDgOJwgCT8+9RwR+kPmVl5IISEsYJ27XmdDwsgEXdID1qKlZZEIu6QiDsk4g6JuEMi7tCJIBF3SMQdEolE3CGRSCTiDolEmt7cIZFIpAf63T6iL+lublwkEnGHRNwhEXdIxB0SibhDIu6QiDsk4g6JuEMiEXdIxB0ScYc0xbVKx7BlRyeEmbvlTkNTm39w7N1cl3efwwPWtCvwfVJCSs7uPfuvXr0GYQaLxB2SGuh09Qy8+dY7EGY0QY+MOwamTkUl1b19gwODI43NbT4BUVOWO1m5JbtH90Lyorb7B8V8K9xx9w6Jjrv9mc3yynpv34iZQZxNRvavHTh8XWFC4iaF1xjewTW6yci2s2eYvcCwo3too6E1X7VstX5jS9fF8Wvi9hs2W7V3Dpw+d+nk6QsFJTWLl29g6W5ewcO7Xrtw6b3jp8aqaltXaBtQ/f92oYO/fGZC9Dy0bLVRe0dPQVGlhY2nubXHNv9IF4+gqcyd/MIKfWMHEwvXgJC44ZHRrfe0wmtY4KycEpE72AXlmRncYdAZv3w1NCIZ5xkKjUzBIkPP3XNndN+h1vZe0GSDgfWOnX0jo/tZuoGp/euHjvT27xa5s2jZuv2vv928o3uzsZ2FjfvBw++WlNcjfbn25r2vHo6ISTM0dbBx8H7jrWMV1c2EgG8FOp3dN1mzWtcIYujp7OpXj56H1m+2gX0wNHNSWgkjolMKi6sGh3Z1dPVhnq8ys3IvKa/t6Rvs6x/KKyhfI/++EqSz3gKL2L67ZyA8OqW2voVX45U6Jokp2UgfGt5dXdtkbi17O29JWU1cYibbwMktACVx9bxJvdiEjOKyGkXuZGTf/t5Idl5pflEFm1+hY5KUmgPXhlJhM91bXw328Y/a0d6FH+3o7EWeagoj4Q4O2XNbGP+tqpqm0EjZi74zc4qZ54IKiisle6nJGUwvLa/tHxju7OqLjEmdgtCJTchk0NHbZCWmY5GhBxvcJXfOX3zPxSOQzeN/DdfD5qPitkfHp1vZeYrcMbVwufLeh9zLmGxxujB+bdkqfUme8cnZBw4dIQo8eKGCgzLdvYMgDkvBDBaRiFXquLN8jXFXd39MfLpS7gArXj7hYJOze8DIrlEbx5tfLNts4oiLZp2+jb6xfVNLO7/5Z2YXN7d2mFq6bTZxQOWHH+EVMiE5q2VHp5WdN26hqP/IGWgICU+sqWthG6Rl5O/s7E3PuvklJqQHhyeo505GVhGwyObjkzJr6poB0I2GdgAWSzcwdUT9t7b3xm9tsfGwd/FVUxgNuSPDZXmt6HfEvdTkjHkre28YTFNLV5TKxmHrVOPOyK59gAt8hOIqJGIVNrhL7jS1diPOgmFBVNXdN1JW1SSutXPaKnLH3tkHoFm4RI8tLl62HhiytPOQ5In4C3kSBR68Kmsa6xt3cOhw9CARqyZo37Gw9USohU19A6K19czF6gSO8MXK6sbQCCVf9kANZLf91XrmYJOjqz9LR1YwPqxCrtQ1BYMcXP34Xo3NbWFRyWZWbthltfyDMPAjgaHxnd39PCvUT1XcWa5tbOu4bWBwxN07hOWP3wJZbtkxN5gRFADhD35XEgSpKszdc0d9zgArT6+oagiJSJxq3BkfvwK4sA/1SoREmRUav3KX3IFb2dk1ePrsxZOnLxSV1SGSUsOdVbpGYxeuwAphfsUag9KKxqvXPnJy8xd30du05ezYuJOrH1Fg+vWjw/W4eQWDLD29g/w+jKoi1o2i0mpe2VDD8wsrYG1a2zqxC+rhUtk3jJxR29fpW/NdsJZVSNgQySr4muzckmXaRr39Q3ZOPkAD7ADqbf/ACHADY4KICdZAkTvgEXAzsmsPAhZ4MZbO8mdBFoQ8sWi8xYXFazAXBUWV1reOS1Vh7p476nMW7Zt4MqeCmlu7xFbk7t7h+8Qd3FreOXo6ITm7vKrp5JkLPgFRargD4V9w9PhZRGdAVUxCBrhjYeMutC8Yvbr/TfgdqsnTe/xOXGImgh2ljay8qiDsQs0PCo1nX1CMik1j3EE9R61jX1liQgjGcgBWlFTIPNlXREAEZAtTkJNfxhbDIpMQ9+UVlqtpV4bZgbOwsPFk6Qx55tbuKBsX/27kBgPbuMQMGCL8VV8YNdyBH5yQOxrmPAW5A+IfO36KQef0mTHR9jKFRaVi1ejeA3fDnXX6lpcu/8TEwpmHUVhEohruMK3UMYQz2mLtJjb3wA3tffUw+MUDMdIDFiqp4pgdLLa2daGeToI7iJLgDpjRUFVVnN0D+DYQeMG4oy0LjvbYOfvwFlaYF5bDqrVmqPY8BJMHIO3h8obqgODY8sr6soo6z22hrBkY8whD/JT1kYvtO0AkDNdKOftQbVAkFnOpEvwOUAVWqimMeMgtrR18SAH8IMwU505xaTVvohb30jDnKcgdBs2f/uxnH3/8C0s7L8kqWbuyPASLT8q+G+4gRDp7/rKYcu78FTFEUsUdpoqalt7+3Wxee60xnA7r3iJ9W6qpa5F0nPNudaxSxx1cbQimrOy8ESMgukH1yCsoV+932F0d15DuBsutvhGIjxh3WAdTY3MbNthkZJ+ani9pV0bYZWnrtdHQDnamr39Yd6MlsyoIiyCdDRbMTIFWWGtg6qieO6jk7Tt7eIs4vExnV5+zeyDyRxjIAx+PraHIE5mj/sPCqC+MeMhZOSUAIn4FqIKnwyFz7iSn5dY1tCJbZm0k7coT5jw1uQOFRqbEJ+dIwqvQiGTWmbX/wBt32Y+urWcC7mTmlGIGyswtQ6iFWEkNd9ZtslizztTAxK6guHrswhUzSxeWz/7X3+7u24WYi2vFGhrC86DFO84ZesSxPJLGZil3UL1hLnAzByPaO3oSU7K115mr5w6EOtzTKxtnmJNX6uIRyLmDOpZfVMH60VnoxHOAZUA97Ozul3cwN/M2YKirp7+yulFsi+WAUN+fBVDy5mdEVfAgyB8Hgt1Z97yBqRO4i3JCVTWNvFdbVWHEQwZWSspqAEQUD6ABUjl3ELjV1DVj3xyFGEqTnKcsdxR1z8cN2jpuHRx59ezYONQ3uAehk/r2ndyCystXPzh97tLOrkFTCxeWuM0/8uq1jyRy9QwiEHyL6Ons6hfH8tDzWaQ7Fz0nQdIEPWzMjmQsD3GHRM+Fku4velrbuiBNoEPcIRF3SPQeDBJxh0TcIZGIOyTiDom4QyLukIg7JBJxh0TcIRF3SCQS6Rsi7pBIJOIOiUQi7pBIJBJxh0TtyiRqVyYRd0gk4g6JuEMi7pCIOyQScYdE3CERd0jEHRJxh0Qi7qiV1s2ZH8+ZBz01Zz702OM/+t73voe/bBHCKsn2JOIOibhzJ7iZ99Kyp+a+8P/k03fl0//75vQ9Yfr+97//8MMPP/3Mi9iLAETcIRF3Jk0c+BfOGnFSAx1xeuSRR56aO5/oQ9whEXfuijgidBRx87B8ekQ+PXxrwvzTc18g7pBIxB2Vmv/ycjDlO7cm9dDhuGGs+YF8kswwBj366KPEHRKJuKNEj/zg8e98c1IPHZE4j8qnxx577PHHH3/s1sQSGX0ef+JJ4g6JRNyR6jsKkyJ3JNBhxGG4eeKJJ374wx/+6Nb0Q/mERKzCNjL0PP4j4g6JRNy52aYz76VlP3j08TuADicOQPNj+fTUU089LZ8ww1IYfZjxefyJH8m6urSIOyTSbOaO1tr5L68AWTQ0OxLoMI/z5JNPAjRz5syZO3fus7em5557Dn+RAgBhA44eTPjF2YMe4g6JuKNESqEjckeEDuMOC6+4zQFxnnnmmeeff37+/PkvvPDCiy+++JJ8wsy8efMAINCHoQeoYvuS3yGRZil3Hnnkse+omJQ2J7NROdzpMJsDUwO4gDILFy5ctmzZqlWrtLW1deQTZlauXLlkyZIFCxaAPtiYGx/k88QPf0zcIZFmE3dk4dXy76ieJEEWb9lh3Hn88cfhdBBAMZsD6CxatGj58uVr1qxZv3795s2bDeUTZrCIRPAIVgiEwi6Iy7A76+RCGWZ8wEXcIRF31PVeTRhksQhLYnYQWMHOgCzgy8aNG01NTa2tre3t7R0cHGxsbLZs2QL6wPtgG9giBFyIy7jlmQ0BF3GHRNy5aXZ+/PQ8wOUh+aQ5d9hoHcYd4AMQQfQEs7N48WKEV7A2JiYmdnZ2np6efn5+AQEBPj4+rq6uVlZW+vr6Wlpa2BLbi5ZH9jDX3BdmtuUh7pCIO7cqwzcn9dxRDLIADsYdWJiXX355yZIlMDvwNUCMh4dHSEhIfHx8UlJSbGxsUFAQ0GNubo4oDJYH0dacOXPEVh5M5HdIpJnOHbnZeUhhUoUeCXcAC8Yd2BbGHRZk6erqGhoawuzA4wA3WVlZBQUF2dnZcXFxvr6+CLhWr14NW/Tiiy8+88wzbFAP61af8ZaHuEMi7igxOxP6HUlnlsTvvPLKK5w79vb2oAzMTm5ubklJSX5+PlwPAi4HBwcYItgiMdRCvMae3prZloe4QyLurJ330tKHlE0atitL2neef/55xFlLly5lcRZ8jZeXV2RkZHp6OtCTmZkJv+Pn5wfu6OjoMO48++yzTz/99I9+9CM2lgd5Iueb7+sh7pBIM5A7WmufmjN/UtzhoZZkxOCTTz45Z84csV15w4YNZmZmTk5OsDxAD4iDgCskJMTDw8Pa2lpbW5vFWaLf4dx5+pkXZ2qoRdwh3UfuLNRam2Zm++uwCAgzC7WmTZA1YfuOOFiZN/Hw8Tu8Hx2hFiyPhYUF0APXA/r4+PgAOnZ2dqampitXrly4cCE25qN4eJzFiEZ+576ooanNPzh2plbL6Xt0CSk5u/fsv3r1GoQZLE6WO0BMqpnt9fDIG8nJXFhMnZL0eUj1pEmXFnuZDpDBmnhgedi4QXgZkGXt2rX6+vpwPWwID4hjZWVlYmKyceNGxGKvvPLKvHnzeLuy6HcwzWTuGJg6FZVU9/YNDgyONDa3+QRETaOamZVbsnt0r29gtCS9sLgK6e7eIep3xwbRcdvv4HfLK+u9fSNmHnc2Gdm/duDwdYUJiVilCXdkHifR9vrVyBtfJUOYwaIkJTVhCtFHVeOO5pZHbOJhlgf+Zf78+WCKlpbWihUrdHR0EHDB+BgZGRkaGgJDbMjyokWLWJAlPi0B7jDoIPOZ2sTz0LLVRu0dPQVFlRY2nubWHtv8I108gqYXd9p39tTUtYiJepuswdDO7v4JuZOVU3Jn3EGxTSxcZx53GHTGL18NjUjWN3aAQiNTsMjQowl3juzzFYmz6FY6ZkT6YLMpUgeU9qBrPopHDLWY5WGtPBw9gAt7RAug0ZVPmMEiEuGJmNkBqgAs/lIezp2bL2OeedxZv9kGvsDQzElptfENiC6rqEMd7ujqCxCq0Aodk6TUHFiknr5B1HzdDZYsfaWOSWJKdnfPwNDwbuyO+o9E7Ou5LYzvW1XTFBqZpFgzzazcS8prkWFf/1BeQfmadVv4NnZOPtszCwaHdkVEpyhyByUZHhmFa+OJIRGJufll4BHnjtLMM3OKcexMBcWVao5LsQwalnx6cSc2IZNBR2+T1Tc5bsXQgw0m5E7vjWSmmk8jndJtxVXOGbZI5BvMAO4oti6zVh4WbTH0AC4LFixAzIWoapl8wgwW2UMSgA4zO5IgiwVxT82ZodxZvsa4q7s/Jj5dKXd6egdhguCJ7Jx9gBJre2+2Kj4ps6auGbTaaGhXXFaDoIalAzpt7d0Orn5Yxeu8htzZbOLo6hm0Tt9G39i+qaWd2xBs09LaARyYW7uDkorciYpNyy+qiE3I4InY3t7ZV/Q7qjIHL0S/o+q4FMugYcmnF3dGdu0DXCJi0hRXIRGrsIGG3OF8YfSBxJSZxx3Jg1oiep5//vkXXngB9Hn55Zdhf4AbzGARiQw6rGWHm51ZwR1cPRa2ngi16ht3wN1o65mL3ElOy+WL2Xml2bklMlOja4rb/hYbj1t3ezf4Bey4StcUvsPJLUByyWrIHVGousyAsG1Ky2vVxFnYGD/a2dW3XNuYHU5HZ+8ybaOuHuVxlpi5yB1Vx6W0DBqWfHpxZ3z8CuCC2EpxFRJlVmj8yoTcSb7xLoQZ44ywsE9H2CITFpEobjOVO9HvwPKIL8QAeuBiEECxF/E899xz8+QTHBB7/w4bs8OhI/ZkMegg52kxajkmIb2guGrFGgO2iBksInHi/iy4Hjev4MrqRhgcG4etvNoEhcXziyw8Kpk1o8AOoEKyYATq7R/CovEWF5a+Tt/6zriDCp9fWNHc2tHa1olilNyq59gmODxBPXdQfgR3Di5+SNmeWchQInJHVeYid1Qdl9IyaFjy6cKd5tYusRW5u3f47rkj01I9gIalyIizVE/JNlO4M0vDZ0RVveqUtfWw95yyFw+KEw+vGHTYSzB4yw4j2rTo0srMKRneta+2oQ3EgTCDRSROoh89LjFzZ2cvrzZhtwABRcakMu4YmTujQrKIg2vFGhOWPiF3YKwUuYMcBgZHgkLjV+iYYBGhk4a1l3FH1vWbnJWbX7Z6rVn/wAjiHZE7ajIXuaPquJSW4e5LPqUEr3fs+CkGndNnxkTbyxQWlYpVo3sPTMyd6zcSPvmnJAVSnzJl/c6kXgCm9C3L7L3uHED8FcusA0uEjsTsTBe/s1LHkLGmtn4HxBiExElwx9HVf2h497LVRqzaZMkDK6bi0uqsnJtxFrZRDGFWrTUb2TWKHCTpLa0dvG8exgSGQpE7zu4B/HehnPyyyXIHxgQ5oP5XVDWwVZw7ajLHQfGGIVXHpZ47d1zyqSYTC9ef/uxnH3/8C0s7L8kqWbuyPASLT8rWhDuJv/qXcXT+Ai09JZTR0jOOKZhC3Jl8+476t7ur+aoE/7AE/6oE+6yNCB0Jd6ZL+w5HjybQkXEHV1tIRKKVnTeiDHsXX1SVvIJyXm3gHWBVNhjY+gZG79q9B5vdskUZnV19zu6BGw3tEGXw2pWanodYw9Zx22YTR1RgnfUWrK+6vLIeVIIjgB2Ap1DkDoqBdCc3f90Nllt9I/r6hybLHeakhkdGvXzCJdxRk3lyWm5dQys8C7Npqo5LDXfuuORTUKGRKfHJOZLwKjQimXVm7T/whib96BlbT/Yn34Bqwz9zNpPRB/M9Cf/EDBaRyName5+YSdxRhR5OH8lXtFgrMv+Yn1LoTCPuMPQUllQXFFdNCB0ZdwxMHWEQ4EFQY9s7ehJTsrXXmfNqEx6dglqE+zliJf+gmNv96GtMYBM6u/uxF1YhOmPpCHNS0/N7+gaxC+oz64dGrS4pq+ntHwIIUM+z80qVtu/gt3p6ZWMXc/JKXTwC74A72AygBOAk3FGTOZBaU9eM0iJdzXGp4c4dl3xa6A7GDYIvLmYFnC+1YbKZ3sR/3U4J/wwbcDc0lbmj4QtPlX6kmH+SmNNHMnHiqILO9OLOPXtOQlZtBNaQZqHu5jmJNLOg6+GdN5Jf48IiEqfacxJqxitPCB2RO6rQI34iXZwUiSOBDqYZO1551j48RXoAz4Uu0tIDaH4d1glNQeLcwXOhGnKHo0dCH8mkHjpImY3PhRJ3SLPk/Tv8tcqaj9yZkDsielRNqojDsp3hz4USd0j0/p074I6iPdEcOuKWitBhmc/gV53S+3dI5Hcm/b5BTcKrCXGjSBwOHZY/vW+QRJrh71eeMNRS34el2KAzIXQk3JHkP4ODLOIOibij0fckJhwoKHacS2ZEBk0YXvGfkPWg0/ckSKQZ//0s0fJM+CCo+OYdNrFBOny0jjgmcMLeK0lb9QzuySLukIg737Q8c+Zp/plQ/gUb8XkIySR5DELV+EDFDjLZ677oe6Ek0mzwOxCqveYvNhUf/mRPfrKHP9kMew5Lk4ewJNyZ2S07xB0ScUeJHvnB46o+EKr49Qj2waxnn3123rx5L7zwwou3JswjBelYy95hygDEXifInztXHLPz2OM/nPHQIe6QiDtK9PAjj4ncUfp1UP7JGvbpiIULF2ppaS29NWEeKfz1yeybfPzz50q5g+kHjz4+G6BD3CERd5QLFFBqdlhsxT6FDqCwTxIvWbJk1apVurq669atW79+Pf5ifvXq1ewzNfPnz2dvbhdfZqrYyjMbwiviDom4o66Nef7LK3jso9TssI9kMeisWbNm06ZN7AtZNjY2+It5pCAd6Hn55ZeBJwRcCMrEaEvyXkH84sxuSybukIg7E6Nn3kvLfvDoE5LmZPY9YhCEfRR00aJF8DUbN260sLBwdXX19fUNCAjAX8wjBejB2sWLF7NXuCt+EZRZnkcf+6FsaPKsgQ5xh0TcmTjgYnRgfVjgDg+yXnzxRS0tLZgaQ0NDe3t74CY6OjohIQF//fz8HBwckI612AZbiqEWG+/DuPPoY0/MHtwQd0jEHY0ELvBRgow7ot+BlwFZDAwM7OzsfHx8oqKi4uPj8RfzSNm8eTPnjuQL6Iw7s6T3irhDIu5MWvNfXs4wwb6QBe48+eSTc+fOnTdv3oIFC1asWLF+/XpTU1MYHC8vLxDH09MT9gcpSMdabDN//nxsz17kzuMsZDU7oUPcIRF3NGrrwd+n5s7nYwV5qMWaeFauXLl27Vq4GxMTE3Nzc/zFPFKQjrVi4w6CLDbEWfaOi9kKHeIOibgzOfqAF+wZCDZ+h38EHcHUsmXLAJrVq1fjL+aRwjrRWYTFPn+O6SZxtNYSd0gk4s4k6DPvpWVznn2JfQ706aefFscrv/TSS+J4ZazFNtgS2998n87sJg5xh0TcuVsAQXOffXHusy/NfU6mOXOfmzt3ruyvfFGW/uyLku1JxB0ScYdE3CERd0jEHRKJuEMi7pCIOyTiDom4QyIRd0gk0hQXcYdEIhF3SCQScYdEIpGIOyRqVyZRuzKJuEMiEXdIxB0ScYdE3CGRiDsk4g6JuEMi7pCIOyQScUej9+94evvbO3rYO7rjb1d3340bN7p7+h2dvZxcvV3ctm3zDab37xB3SMSde4AbreV6Zhb2//3f//273/3u5z//+ccff/yLX/zil7/85a9+9avr169/9tlnv/nNb37729/+/ve//+qrr27IJ1sHtyUr1hGAiDsk4s6kiWNl4/SHP/zho48+uiqfrl279v7773/wwQcffvjhT3/6U8agTz75hAHo888/B4C++OIL7PKnP/3p//7v/wAgV3cfog9xh0Tc0Yg4FlaOv/71r8+ePTs2Nnb+/PkLFy5cvHhxfHz8ypUrjD5AD3j0s5/97N/+7d+Y/cH2n376KejzH//xH3BGX3755Z///Oe//vWvt+lD3CGRiDtKtVBLBy7m2LFjx48fP3HixMmTJ0+fPn3u3DnQh6PnvffeU48eMfICfb7++mvQh7hDIhF3lKisvAq4eeutt95+++133nnn6NGjWDx16tSZM2eAHrieS5cuXb58mcdcYsAlouezzz7793//d258/vM//xPG5+ChN4g7JBJxR6r9+/cfPHjw0KFDb7zxBugD9MD4wPUAPYi5WMDFLc9PfvKTDz74AJYH6IHlYW09iuhhLT5//OMf//73vx86/CZxh0Qi7txs01m4RCclNX3fvn2vvfbagQMHgJ4333zzyJEj7777LiwPoi01lkeMtlgzsyJ6EHP95S9/+dvf/jY8Mirr6tIi7pBIs5k7WmtfWbwGNmdkZGR0dBToYa4HlgfRFrgDy8O5w1p5GHe45ZFEW7yHi7X1cPSIbT2Lls6iTi7iDom4o0QwOH19fQMDA7t27dq7dy8sz+uvv3748GHFUGtsbAzcUWV5eM86i7Yk6OHNzP/zP/8zq5qZiTsk4s43FBAY3NTU1NbW1tnZ2dPTMzw8rMbynD59WhV6eEMP0CMJuDh9gB6xk+sf//jH6wcPE3dIpNnEHa21Ly9aXVdX19DQ0NraunPnzu7u7qGhod27dytanqNHjzLLI0ZbvIFZqeuRoEfS1gP0/Nd//Rdcz+JlMz/gIu6QiDu3lZCQUFFRUV9f39zcDMvT1dU1ODiIUGvPnj2vvvqqpHVZYnlYAzPQwxt6lKKHPU7B0CO29QA9f/zjH//2t7/NhoCLuEMi7tw0O/NeWJSfn19eXg7LA+7s2LEDodbAwIBi6zK3POJYHmZ5xGhLbGNm3VsS9MDyiOhhj1N8/fXXstHMWsQdEmkW+J0tW7ZkZ2eXlZXV1NQ0NjaCOwi1+vv7h4eHxVBLjeXh0ZaG6GHRloieL7/88i9/+cuMtzzEHRJxR2Z2fvz0vPDw8MzMzJKSkqqqqoaGhpaWFnCnr69PDLWUWh6l0ZbY0MPbmCXoUezhAnoQbf31r3+d2ZaHuEMi7sj08MMPh4WFZWRkFBcXV1ZWslCrvb29t7cXoZZSy8M6tiQNzBw9sDxK0cO6txh6xO4t3sz8+9///s9//vPMtjzEHRJxZ+28l5a+8MILwcHB6enphYWF5eXltbW1TU1NCLW6u7theYaGhiSWh3Vs8WhLsW9LDXq462HjeiSjmX/7298i2gJ3br6vh7hDIs1A7mitfWrO/Hnz5gUGBqampubn55eWllZXV7Pe9K6uLjaAcGRkhFse1rHFoi2gh0dbqtqYlaIHxof1rCui53e/+92f/vQnOwf3mRpqEXdI95E7C7XWppnZ/josAsLMwqlaix566KHnnnvO19c3OTk5JycHoVZVVVV9fT0sDxs92N/fzy0P69hiY3lYtKW0oUfSxiyiR2xmVooeRFt/+MMfZnCoNQnuNDS1+QfHfrsX+rLVRinb83r7h/oHhq3svSWLs63a37//SEJKzu49+69evQZhBouT5Q4Qk2pmez088kZyMhcWU6ckfcCdOXPmbN26NSEhITMzE6FWRUUFC7XY6MHe3t7BwUHeysPG8iiNtjRHD4yP2NYjPkvx+eefw/LMZO4UllRtzyzkV5KbV/Du0b02jtt4SlpGfnFptfqrvLyy3ts3gs27e4dEx22f1FWelVuCH4VGdu3p7O7Pzis1MndWmrmDi1//wIippetmE8eVuqaSxftRA1nZfAOjJemFxVVIx8Gq3/0OzobiUT9I7mwysn/twOHrChMSsUoT7sg8TqLt9auRN75KhjCDRUlKasIUos+8l5aCO9/97nfd3NxiYmK2b9+OUKusrIyFWu3t7R0dHdzy8LE8vIGZR1tiQ48EPUrbevizo4rogeuB5fn73/8+U5t4HgoMidvR3sWvpIzsIniHxJRsntLa1hkUGq/+Kke6iYXrzYqaU3IH3MkrLN9oaGdo5uTkFlBaXjs4tMvaYati5sFhCVU1TXxHyeJ94k77zp6auhYxUW+T9cDgCBA5IXfu4GwoHvWD5A6Dzvjlq6ERyfrGDlBoZAoWGXo04c6Rfb4icRbdSseMSB9sNkXqwI+fnveQfHJwcAgPD09JScnNzWW96XV1deyBia6uLt6xJTYwc/SwaEtz9Ihv6mFtPZL+dVieL7/8cqa+DvUhOAvctzcY2LIoprtnIC4xo629m11Y6zfbYC1zH7jKI6JTcJ8HFDq6+jCvWAEyc4qZc4EKiiuRskLHJCk1p7dvsKdvEHVYd4Ol0roN3okpeQXloOEybSMxc9BwCD5XnnlOfplkERugVJ7bwngmQFJoZBKb9/GPQobYvqOzNzYhgyVqWDZsMzwyamDqxBNDIhJz88vAI84dMyv3kvJa5NPXP4TCr1m3ZVJnA8do5+SzPbMA55adWJEpSjO/H9yJTchk0NHbZPVNzlox9GCDCbnTeyOZqebTSKd0W3GVc4YtEvkGU407pqamQUFBCLWysrKKiorKy8theVpaWmB5Ojs7WccWoi3ewCz2bYkNPWL3llL0SIYUivTh6IHl+eKLL5xdt87Y9p2u7n4vn3DMmFt7wOzorLdANWOsQTXGWn6V47rHloCRs3vAyK5RHo6JFQA1RLzDxydl1tQ1w8jAzhSX1QBbmnDHeIsL6qqppZskc3CkoqqBbyZZVMUdA1NHEMfa3hv1fIuNh72L76TKFhWbll9UwWkFtbR22Dv7in4HgZ6rZ9A6fRt9Y/umlnZ+BjQ8GzhG5AkkmVu74/RKjlpV5vecOyO79gEuETFpiquQiFXYQEPucL4w+kBiytTkztKlS7du3RodHc1CLWZ5WG86tzy8gZlHW7yhRyl6VLke1tzzvnzixkd8eB2W5ze/+Y2Tq/eM5Y6s2mfJqr2sghVWYKasoi5MXmPTswqxll/lmdnF/JqrrG4MjUhSz52Vuqa4gaOq37pvu4Em2nrmE3JnpY7Jrt17UNnuCXcQsICkkrBF87LhcBD9dXb1Ldc2RoqFrSdME7xYV4/yOAvbM3ej+dnAMSK61CSGEjO/59wZH78CuCC2UlyFRJkVGr8yIXeSb7wLYcY4Iyzs0xG2yIRFJIrbTJFOdMad5557ztnZOSwsjPVqMcvDBi63tbV1dHQwyyNGW5qjh3Wu89HM4oMUYksz7+eC5fnss8+sbJynfld6TEJ6QXHVijUGbBEzWETiBNzx9o1o7+jBTF1D6za/SMwEhsRV1zZjpm1nt7dvOL/KEV/wa66otFrpjVesabixo2qxsALq7R/CIrzMhNxBrQZ3nN0D7wl35BFEBixPQVElbzbSvGw4nOVrjBGBOrj4IWV7ZiE7QJE7oAmQ3dza0drW2dM7WHILIhqeDRxjcHiCKu6oyvwecqe5tUtsRe7uHb577si0VA+gYSky4izVU7LNt61HH3304Ycf/v73v48ZS0vLgICA+Pj4zMxMNpCnrq4Olqe1tZVFW6yBmUdbmqOHj+vhH8ARO7lE+jD0wPLghE+LLq3MnJLhXftqG9pAHAgzWETiBNzZYGDLGnFQ1WHm5ReZPeZZ0w+z/YpXuSbcYTmw2IFrxRqTCbkDbyK2K90Zd+obd3DusMOMS8yA48DfSZWNHU5CclZuftnqtWb9AyM4PyJ3sOPA4EhQaPwKHRNmG5VyR80vKhKEp6jJ/B5yB17s2PFTDDqnz4wp+r6wqFSsGt17YGLuXL+R8Mk/JSmQ+pRv8zH0FxcvWrRo4cKFCxYs2LRpk4+PT2xsbEZGRkFBQVlZGXsnhiTUElt5RO6IfVt8RA97IyqmMfnELI/ksXXOnY/kE+eO5XTwOyt1DBlraut3QIxBSJx4/A5upCnb83Adi00Y2zMLcI9V5fxVcae4tJo3heBqhsuYuNPnm9xZttoor7C8qaUdM5PiDsrsExDF5uFQ4CxE7jDB7yDmQh3WvGzsMGFMsD3qP/9Fzh1n9wCsYqWFcvLLOBo0PBtquKMm83sbZ4H1uM9+/PEvLO28JKtk7cryECw+KVsT7iT+6l/G0fkLtPSUUEZLzzimYApxZ8nal2DD9PR0dXV1dHQw4+npGR0dnZ6eznrT+bt4WJwlNvGIw5eZ2bkz7oh+R+TOp59+6ujsOS3aazh6NIHObe4AOripxsSniy2gSElKzZksd5LTchGv4S69Tt8aizAXnV19iJg2GtohXlBaT3g/uoGpE7Ysq6iDp4AvUMxcPXeyckrKK+tXrTUDVuALYC4YdxDgeGwNRZF0NliER6fAFrHtNSwbP0wYKDCLtcGL3GHuzMnNX3eD5VbfiL7+IY4GDc+GGu6oyfyet++ERqbEJ+dIwqvQiGTWmbX/wBua9KNnbD3Zn3wDqg3/zNlMRh/M9yT8EzNYRCJbm+59YqpUm8UrjIyMDAwM9PX14XccHBwiIiJY0zLiLM4dNoCwr6+PvRkDfgdBlsgdcSyPOIKZjSQUnxplcRZ/Q5iqOEvOHa/p0lQM1hSWVBcUV00IndvccfEIwsUt3uis7L3ll3vAZLmDcKamrhm36Jy8UlnP8RoT3PA7u/tRY1Hh4xIz1YwbxDbtO3vgs1ggM1nuoHqXlNX09g+BCKjw2Xmlt/qznGrqWoBRqKqmkRNNw7Lxw0QxAERwTcIdCDjr6R1E/jhqF49AjgYNz4Ya7qjJ/AGMIL+DcYPgi4tZAedLbZhspjfxX7dTwj/DBtwNfetavGS1lZXVli1bzM3NTU1NLSwsgoKCkpOT2Sge0e/wZ7UkAwg5d/jwZTaWh31fVNK0zDu2xHdlMO6I7ycEdz7//HPnGdyfRSKp0t08J5FmFnQ9vPNG8mtcWETiVHtO4qWFK11cXOzs7GxsbKytrcEghFpxcXGZmZlFRUWsXXnHjh28P4v5HRZnsQGE4pOivF2ZjSHkD21xv8O4w1/GrNTyMO58+eWXM3a8MlUt0v17LnSRlh5A8+uwTmgKEofL19cX6HFycnKQT46OjuHh4WlpaQi1ampq+BAe1r4j+h0+evD1119n7crgDnslGG/iURxDyEItWB4Jd/ggZsadr7/+mp4LJZFm7Pt3oqKivLy8PDw83NzcXF1dwSAfH5/ExMScnJzq6urGxkbxaQnenyVyh4dajDu8aVnSlS6iRzKGULQ84M4nn3xCz6OTSDP5/TvLVuj6+flt27bN29sbAPKUT5GRkenp6ZWVlfX19fxpCXH8Dhu1LFoe1qXF3r4sDuHhr+YRBxDyUTwS9DDu/PKXv5wWnejEHRJx5w718qLVERERAQEBoA9iLpgdMMjf3x+Wp7S0lIVa4pBl/k4MPm5Qk1BLqeWRoIdz54svvliyXI/8Dok0k9+vnJGRERYWFhwcHBgYCAABOmBQeHh4YWEhLA//kh9/MJ018YjoYdxhQ5bBHXHUMn8bIe/YEp/YEtHDuPPzn/+c3q9MIs3870lo62yIjo6G6wF9QkJCguVTUFBQVlZWSUkJb10WXz8o4Q57Nl3s1RIHECpGW3wsj+SJrQ8//BDccXDypO9JkEgz//tZ+fn5sbGxUVFRkZGRABDMDhiUkJCQl5fHPiLKWnnEp0M5d3jrMhvFw1uXxQ51SbQlNvTwD42COx999NH//u//0vezSKRZ8b1QnbWbkpKSABrQJyYmBvaHMSgtLa2oqIh1bEksj9i0zEbx8DeBSSyPJNpS7FZnw3kQZ4E7Dk4e9L1QEmlW+B2osrIyNTWV0Sc+Pj4uLi5WPmVmZpaWlrI3LsPy8IHLqlqXxVYeSZ+6iB7JkxPgzvvvv/+Pf/yDvo9OIs0i7kBBQaE5OTkZGRnbt2+H00lJSUm+NfGAq7W1taOjQ/IaMMkYQv6YKEOPJOAS23qY5QF3EGT19g3MeOgQd0jEHSUKCAwGYrKzs2Fz0uUTYxAmhp6GhgYWcEleuiy6HrGhRzHgYujh0Rb8zuXLl9vaO2YDdIg7JOKOcrW1tRUWFubn52fLp6ysrEz5BAbl5uaWl5fD9UjQI3kNmCJ6+IgeyXNb8DswO1999dUsgQ5xh0TcUd7G/MpibQRTJSUlBQUFefIJuMmRT8AQ/rJX86hHj9itLnZvcfSw4TwwO9evX1+4RHdmtyUTd0jEnYnRs0BrjZ9/UGlpaXFxcVFREexPgXzKl08gEajEPnTDPrA1KfSI3Ckrr1y8dBZBh7hDIu5MoKqqqoqKCrgbAKhEPjEMsQnz1dXVrJOru7tb8jljNehhlgfcqatvnD24Ie6QiDuafSwhNr6lpaWmpgYAqqysBIPKy8vL5FOpfAJ6kMKMD2Iu/o0t1sPFmpnFt76LHxetqqqdhdAh7pCIOxPrlcXasDANDQ2AS21tLQxOlXyqlE8VtyakiC0+kndl8O8ac/qMjY3NTugQd0jEHc3aepas3bTZFPRpbm5ubGxkDGIYqlGY2KtRd+7cqfgk1175BOhsNtwya6FD3CERdyZLHzOAo6urC8EX4NIknxrlU8M3J5aIbdi3t4AhmKB9+/Zt1DfluRF3SCTijqb0Wai1Zt0GI0RPw8PDYEpbW9uOWxMow+eRjrXYBltie+xFxCHukIg7dwsg2eeYzaz1Dczgg6DomHi4Ifxli0jHWsn2JOIOibhDIu6QiDsk4g6JRNwhEXdIxB0ScYdE3CGRiDskEmmKi7hDIpGIOyQSibhDIpFIxB0StSuTqF2ZRNwhkYg7JOIOibhDIu6QSMQdEnGHRNwhEXdIxB0SadLc0VqxYaOB9RZrVwsbN6XCKmyAzajiEXe+zQu3oanNPzh2Nlfduz8D3+I5lFxMYIoq4ojCZlTxiDuGBqZORSXVvX2DA4Mjjc1tPgFR06XWuXkF9/UP7R7du7OjZ6Oh3VTmi6qTPJO4Y27lqgl3sJnSa3GTkW1Dc+fxk2PjV95/99iZypoW3Q3mVEVnJneWrTZq7+gpKKq0sPE0t/bY5h/p4hE0je72tk4+4M4UNzVqTvJM4o4m0GFSvBD1jW1Pn724e+/rODlbbNzB5X373zjy7qk160ypls5A7qzfbIN6a2jmpPSC9g2ILquowy26o6svQLi4V+iYJKXm4O7d0zeYlVuiu8GSpa/UMUlMye7uGRga3o3d9TZZIxH7em4L4/tW1TSFRiYp1hkzK/eS8lpkCAuTV1C+Zt0Wvo2dk8/2zILBoV0R0SnquaO9zjwnrxRbdvX0h0UmZWYX8/yRD67p0vLa/oHhzq6+yJhUvpdY7OraJnNrd1U/rerAffyjdrR3YfeOzt7YhAxJIdWfZORcWFyFn8CJEg9Q1QnRWW+BRWyPAodHp9TWt/BjVHogJWU1cYmZbAMntwCUxNXzJvVQ1OKymgnL/wC409bRv//g24uXrRdbi946cqK8qoktvvb6W2FRKb39u8+ev3z0xNn07BKqvdOYO8vXGHd198fEpyutEj29g7g/43Zt5+yDi9La3putik/KrKlrRkVCdIMLF9WGpeOib2vvdnD1wyp37xCWqCF3Nps4oj6s07fRN7ZvammPjtvOt2lp7UBtRy1CBVbPne2Zhc2tHdgSBQCAUGaRO6jAVvbeOBxTS1essnHYylYlJGe17Oi0svPWN3ZArcNmDCiKP630wA1MHdnJwV5bbDzsXXwlhVR/kvFzXj7hyN/ZPWBk16iN4zb1JwQwxTGaWrptNnEA+4ZHRvkxKj2QkPDEmroWtkFaRv7Ozt70rEK2iPTg8IQJy3+/uQPcXLj0HhgqSU9KzT1+aoxz58y5cXtnn4VL9BCpXRi/5ujqSxV4GrfvWNh6Igqob9wBd6OtZy5WieS0XL6YnVeanVsiu6nqmuJmiwv01m3ZDTUfO67SNUUdwB1VcnVqyB1RqGMFxZV8G5gUTeKs1WvNUABHV3/ufVBOkTuodXzHiqqGkIhEdjjYC6zkqxqb28KikhV/WtWBm1i4Igf8VVNF1ZxkcIQvVlY3hkYkqTkhq/XMwabbx6h3+xhVHQjKiV1wcmT/i87ewND4zu5+nhUQrEn57yt31m2yuHrtIwcXKUe8fcORvmyVPuNOZU0LXzU4vC8pLY8q8PTuz8IN2c0rGBc9DA53AagSQWHx/CILj0pmt03c7VHfWKwB9cpbdo23uLD0dfrWd8Yd1Of8wgrcyVvbOlGMklsVHtvgnqwJd4zMnSUFQG4id8R8ikqrmYNQLDbsACOsZBdVB84CFliGgqJK61tnT1GqTjLDn6RUqk6I4jFiLTtGVQeyTNsIRUXACLLAAQFP/QMjwA18DY4F7k/D8t8/7uht2iLnjo967iSm5vJVnT3D2XnlVIFnSD96XGImfDivEmGRt++9kTGpjDvs0mehB9eKNSaKVUIpd3DPV+QOchgYHAkKjV+hY4LFqNg0kTtq2k1F7gABmNfbZCX+lsgdMR9ew1EblVTXvFLFXVQdOFu7wcA2LjED7gN/1VdXyUlWWipVJ+TWMd4uLUIwloOaAwFQkC28T05+GVvEfxZxX15hOd9Y8/Lfjzjr/EVlcVZa3vGTt+OsmPgM4s7M5A4MPO577B6IKpElv+0zFZdWZ+XcjLOwDW++4Vq11kwMAbhaWjt4tzHu+bjHKnLH2T2A/y6E6nEH3NGWBQ57cGO/2fi9xgT3+Qm5g2KjsonFbmxuD5e370p2UXXgouAXELMwWKiS5CQrLZWqE3LzGJ19eEMyzAvLQc2BBATHllfWl1XUeW4LZa3ImEek6RcUcwflvx/tyq3tvSDLomXrxHblt985WSa0KxN3Zg53cJOEz7ey84ZLh/FGNcgrKOcVFdc0rAruhL6B0bt278Fmt+7YGZ1dfc7ugRsN7RAO8JqTmp4H22/ruG2ziSPqp856CySCVrjoUStwNeO+DUwocofdq53c/HU3WG71jUA4cAfcYb8FjwNjgjInpeaIba6qajhrjkWxLW29cDhwAX39w7obLZX+tNIDx6nz2BoKh6KzwQL1HP5OUkj1J1mNC1N6QmBhGpvbsMEmI/vU9HxJu7LSA8EJAYIhlJCZKfxnsdbA1FGT8j8A7mwytDl55sLw7v243kwtXLb6Rex97bDYj07cmVHcwZWH+x48CC7f9o6exJRs7XXmvErgKsTlLute7erzF+6NsBKxCRmd3f3YC6t4N+3qtWaoCT19g9ilrqGV9Qrhgi4pq8FF39XTn5yWi2qjtH0Hv9XTKxtWl5NX6uIRqAl33LyCUXLUz7ad3WzcIGoOYgfc9pFVRHSq2MeshjtwYailOBx593MzbzlW/GmlB25g6oQIFCWHqmoaeTe8MGhQ3UlWVSpVJwQoyS+qYP3oLHTiOag6EAgnv7K6UWxy5nyZsPwPZtzgRkPr+qaO46dk4waPnjgrGTdI3Jktz0nIqoSCD59eamppf5DDr2f581n0nATpHnFnOj88xfqY7Z19CRD0XCiJuHMfFRQa7+oZpG/soG9sn5tfhlBila4pAYLeg0Ei7txHbfWLaG7dOTA40tc/VFZRxwbXkIg7JHoPBom4QyLukEjEHRJxh0TcIRF3SCTiDuneccfMyoNEIpEepP4/UKyE1ktcI/4AAAAASUVORK5CYII=" alt />
</figure>
<h2 id="react-on-signal">React on signal</h2>
<p>In <code>_on_Connect_Button_down</code>, we grab the light and specular data, create <code>ViewportTexture</code>s with them, then find every mesh instance that has a ShaderMaterial that has a <code>light_data</code> and <code>specular_data</code> parameter and apply that texture to it.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> _on_Connect_Button_down(builder: ToonSceneBuilder) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">var</span> light_data: <span style="color:#a6e22e">Viewport</span> <span style="color:#f92672">=</span> builder<span style="color:#f92672">.</span>light_data
    <span style="color:#66d9ef">var</span> specular_data: <span style="color:#a6e22e">Viewport</span> <span style="color:#f92672">=</span> builder<span style="color:#f92672">.</span>specular_data

    <span style="color:#66d9ef">var</span> light_texture :<span style="color:#f92672">=</span> light_data<span style="color:#f92672">.</span>get_texture()
    <span style="color:#66d9ef">var</span> specular_texture :<span style="color:#f92672">=</span> specular_data<span style="color:#f92672">.</span>get_texture()
</pre>
<p>Much like nodes created in the editor but not having the <code>owner</code> property set to save properly, viewport textures need a <code>viewport_path</code> to save. This path is relative to the root of the scene, so we grab it from the editor.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">var</span> top_parent: <span style="color:#a6e22e">Node</span> <span style="color:#f92672">=</span> Engine<span style="color:#f92672">.</span>get_main_loop()<span style="color:#f92672">.</span>edited_scene_root

light_texture<span style="color:#f92672">.</span>viewport_path <span style="color:#f92672">=</span> top_parent<span style="color:#f92672">.</span>get_path_to(light_data)
specular_texture<span style="color:#f92672">.</span>viewport_path <span style="color:#f92672">=</span> top_parent<span style="color:#f92672">.</span>get_path_to(specular_data)
</pre>
<p>Finally, we call a function <code>_set_materials</code> that recursively sets all <code>MeshInstance</code> materials appropriately.</p>
<pre style="color:#f8f8f2;background-color:#272822">    _set_materials(top_parent, light_texture, specular_texture)


<span style="color:#66d9ef">func</span> _set_materials(
    parent: <span style="color:#a6e22e">Node</span>, light_data: ViewportTexture, specular_data: ViewportTexture
) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> parent is <span style="color:#a6e22e">MeshInstance</span>:
</pre>
<p>We loop over each mesh instance’s materials count. If it’s a <code>ShaderMaterial</code>, we call <code>set_shader_param</code> to set it to the new viewport textures. If the shader doesn’t have that parameter, then no harm. Otherwise, it’s set accordingly.</p>
<pre style="color:#f8f8f2;background-color:#272822">    <span style="color:#66d9ef">for</span> mat <span style="color:#f92672">in</span> parent<span style="color:#f92672">.</span>get_surface_material_count():
        <span style="color:#66d9ef">var</span> material: <span style="color:#a6e22e">Material</span> <span style="color:#f92672">=</span> parent<span style="color:#f92672">.</span>get_surface_material(mat)
        <span style="color:#66d9ef">if</span> material <span style="color:#f92672">and</span> material is <span style="color:#a6e22e">ShaderMaterial</span>:
            material<span style="color:#f92672">.</span>set_shader_param(<span style="color:#e6db74">&quot;light_data&quot;</span>, light_data)
            material<span style="color:#f92672">.</span>set_shader_param(
                <span style="color:#e6db74">&quot;specular_data&quot;</span>, specular_data
            )
</pre>
<p>Regardless of the outcome, we recursively step through each of the node’s children to find any further mesh instance.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">for</span> child <span style="color:#f92672">in</span> parent<span style="color:#f92672">.</span>get_children():
    _set_materials(child, light_data, specular_data)
</pre>
<h2 id="in-conclusion">In conclusion</h2>
<p>This, above all, highlights that the Godot editor really is a video game cleverly disguised as an editor running on its own game engine. You can apply textures, buttons, and other GUI controls to the inspector, if you know how to look for it.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">tool</span>
class_name ToonInspector
<span style="color:#66d9ef">extends</span> EditorInspectorPlugin

<span style="color:#66d9ef">var</span> connect_button: <span style="color:#a6e22e">Button</span>


<span style="color:#66d9ef">func</span> can_handle(object: <span style="color:#a6e22e">Object</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">bool</span>:
    <span style="color:#66d9ef">return</span> object is ToonSceneBuilder


<span style="color:#66d9ef">func</span> parse_category(object: <span style="color:#a6e22e">Object</span>, category: <span style="color:#a6e22e">String</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> object is ToonSceneBuilder:
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> connect_button:
            connect_button <span style="color:#f92672">=</span> <span style="color:#a6e22e">Button</span><span style="color:#f92672">.</span>new()
            connect_button<span style="color:#f92672">.</span>text <span style="color:#f92672">=</span> <span style="color:#e6db74">&quot;Connect ViewportTextures&quot;</span>
            connect_button<span style="color:#f92672">.</span>connect(
                <span style="color:#e6db74">&quot;button_down&quot;</span>, self, <span style="color:#e6db74">&quot;_on_Connect_Button_down&quot;</span>, [object]
            )
            add_custom_control(connect_button)


<span style="color:#66d9ef">func</span> _on_Connect_Button_down(builder: ToonSceneBuilder) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">var</span> light_data: <span style="color:#a6e22e">Viewport</span> <span style="color:#f92672">=</span> builder<span style="color:#f92672">.</span>light_data
    <span style="color:#66d9ef">var</span> specular_data: <span style="color:#a6e22e">Viewport</span> <span style="color:#f92672">=</span> builder<span style="color:#f92672">.</span>specular_data

    <span style="color:#66d9ef">var</span> light_texture :<span style="color:#f92672">=</span> light_data<span style="color:#f92672">.</span>get_texture()
    <span style="color:#66d9ef">var</span> specular_texture :<span style="color:#f92672">=</span> specular_data<span style="color:#f92672">.</span>get_texture()
    
    <span style="color:#66d9ef">var</span> top_parent: <span style="color:#a6e22e">Node</span> <span style="color:#f92672">=</span> Engine<span style="color:#f92672">.</span>get_main_loop()<span style="color:#f92672">.</span>edited_scene_root

    light_texture<span style="color:#f92672">.</span>viewport_path <span style="color:#f92672">=</span> top_parent<span style="color:#f92672">.</span>get_path_to(light_data)
    specular_texture<span style="color:#f92672">.</span>viewport_path <span style="color:#f92672">=</span> top_parent<span style="color:#f92672">.</span>get_path_to(specular_data)
    _set_materials(top_parent, light_texture, specular_texture)


<span style="color:#66d9ef">func</span> _set_materials(
    parent: <span style="color:#a6e22e">Node</span>, light_data: ViewportTexture, specular_data: ViewportTexture
) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> parent is <span style="color:#a6e22e">MeshInstance</span>:
        <span style="color:#66d9ef">for</span> mat <span style="color:#f92672">in</span> parent<span style="color:#f92672">.</span>get_surface_material_count():
            <span style="color:#66d9ef">var</span> material: <span style="color:#a6e22e">Material</span> <span style="color:#f92672">=</span> parent<span style="color:#f92672">.</span>get_surface_material(mat)
            <span style="color:#66d9ef">if</span> material <span style="color:#f92672">and</span> material is <span style="color:#a6e22e">ShaderMaterial</span>:
                material<span style="color:#f92672">.</span>set_shader_param(<span style="color:#e6db74">&quot;light_data&quot;</span>, light_data)
                material<span style="color:#f92672">.</span>set_shader_param(
                    <span style="color:#e6db74">&quot;specular_data&quot;</span>, specular_data
                )
    <span style="color:#66d9ef">for</span> child <span style="color:#f92672">in</span> parent<span style="color:#f92672">.</span>get_children():
        _set_materials(child, light_data, specular_data)
</pre>
</body>
</html>
