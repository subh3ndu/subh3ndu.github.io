<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>TmpA4BXuhwAvW</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <style type="text/css">:root {--c-caption: grey;--c-blue: #26bfe3;--c-green: #02e180;--c-orange: #f2971a;--c-pink: #e3266f;--c-bg: #fff;--c-bg-alt: #f5f5f5;--c-text-header: #fff;--c-text-body: #95989a;--padding: 20px;--padding-inv: calc(-1 * var(--padding));--fonts: "Open Sans", -apple-system, system-ui, "Segoe UI", "Roboto","Helvetica Neue", Arial, sans-serif;--font-size: 1.1rem;}html {font-size: 100%;}body {color: #444;font-family: var(--fonts);font-size: var(--font-size);line-height: 1.7;padding: 1em;margin: auto;max-width: 800px;background: #fefefe;}a {color: #0645ad;text-decoration: none;}a:visited {color: #0b0080;}a:hover {color: #06e;}a:active {color: #faa700;}a:focus {outline: thin dotted;}a::selection {background: rgba(255, 255, 0, 0.3);color: #0645ad;}*::selection {background: rgba(255, 255, 0, 0.3);color: #000;}p {margin: 1em 0;}.caption {text-align: center;color: var(--c-caption);font-style: italic;}.note,.tips,.warning {display: block;width: calc(100% - var(--padding) * 2);padding: 0 var(--padding);padding-bottom: var(--padding);background-color: var(--c-bg-alt);}.note:before,.tips:before,.warning:before {display: block;margin: 0 var(--padding-inv) 10px var(--padding-inv);padding-left: var(--padding);font-style: bold;color: white;}.note:before {content: "Note";background-color: var(--c-blue);}.tips:before {content: "Tips";background-color: var(--c-pink);}.warning:before {content: "Warning";background-color: var(--c-orange);}img {max-width: 100%;}h1,h2,h3,h4,h5,h6 {color: #111;line-height: 125%;margin-top: 2em;font-weight: normal;}h4,h5,h6 {font-weight: bold;}h1 {font-size: 2.5em;}h2 {font-size: 2em;}h3 {font-size: 1.5em;}h4 {font-size: 1.2em;}blockquote {color: #666666;margin: 0;padding-left: 3em;border-left: 0.5em #eee solid;}hr {display: block;height: 2px;border: 0;border-top: 1px solid #aaa;border-bottom: 1px solid #eee;margin: 1em 0;padding: 0;}pre,code,kbd,samp {color: #0084b8;font-family: monospace, monospace;}pre {background-color: #f9f9f9;padding: 1em;font-size: 14px;white-space: pre-wrap;word-wrap: break-word;}code {white-space: pre-wrap;}b,strong {font-weight: bold;}dfn {font-style: italic;color: var(--c-blue);}ins {background: #ff9;color: #000;text-decoration: none;}ul,ol {margin: 1em 0;padding: 0 0 0 2em;}li p:last-child {margin-bottom: 0;}ul ul,ol ol {margin: 0.3em 0;}dl {margin-bottom: 1em;}dt {font-weight: bold;margin-bottom: 0.8em;}dd {margin: 0 0 0.8em 2em;}dd:last-child {margin-bottom: 0;}img {border: 0;-ms-interpolation-mode: bicubic;vertical-align: middle;}figure {display: block;text-align: center;margin: 1em 0;}figure img {border: none;margin: 0 auto;}figcaption {font-size: 0.8em;font-style: italic;margin: 0 0 0.8em;}.author {font-size: 1.2em;text-align: center;}tag {min-width: 3.2em;text-align: center;border-radius: 8px;padding: 0 4px;margin-bottom: 0;margin-top: 4px;margin-right: 0.2em;display: inline-block;color: white;}tag.update {background: var(--c-blue);}tag.new {background: var(--c-green);}tag.update:after {content: "update";}tag.new:after {content: "new";}button {background-color: var(--c-blue);color: white;border: none;cursor: pointer;line-height: 2rem;font-size: 1.2rem;margin: 0.75rem 0;overflow: visible;padding: 0.75rem 1.5rem;border-radius: 1rem;transition: background-color $transition-duration;white-space: nowrap;}</style>
</head>
<body>
<h1 id="persistent-changes">Persistent changes</h1>
<p>Imagine the player’s ship fires a laser beam so powerful it can destroy asteroids or planets. When the player does that, if they later revisit a world sector, you’d want them to find the place the way they left it.</p>
<p><img src="data:image/png;base64,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" /></p>
<p>That’s persistence, and that’s what we’ll work on in this lesson.</p>
<p>Not the laser; just the ability to save and restore changes. By the end, you’ll be able to left-click in a sector to add a planet there and right-click in a sector to remove an existing planet from it.</p>
<p>We will store all the modifications in a dictionary. As we already use a dictionary for sectors, it makes sense to do the same here: we can use the same keys to store changes made in a given sector.</p>
<p>However, we need a separate dictionary from the <code>_sectors</code> variable because the <code>LayeredWorldGenerator</code> clears it periodically. Unlike it, we need changes to stay in memory.</p>
<p>To get started, duplicate the <code>LayeredWorldGenerator.tscn</code> scene and name the new one <code>PersistentWorldGenerator.tscn</code>.</p>
<p>Open it, rename the root node, clear the script on the root node, attach a new one to it, <code>PersistentWorldGenerator.gd</code>, and open the script editor.</p>
<p><img src="data:image/png;base64,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" /></p>
<h2 id="coding-persistent-changes">Coding persistent changes</h2>
<p>We want the player to add or remove planets using the left and right mouse buttons, respectively. We need a way to map an input to those two actions and a place to store modifications.</p>
<p>We start by defining an enum and a member variable to do so.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e">## Extends the layered generation algorithm and adds the ability to make</span>
<span style="color:#75715e">## persistent changes in the world.</span>
class_name PersistentWorldGenerator
<span style="color:#66d9ef">extends</span> LayeredWorldGenerator

<span style="color:#75715e">## This enum represents the two actions our player has access to.</span>
<span style="color:#66d9ef">enum</span> Actions { ADD_PLANET, REMOVE_PLANET }

<span style="color:#75715e">## This dictionary stores all the modifications the player made to the world.</span>
<span style="color:#75715e">## For each modified sector, it holds a dictionary with the form</span>
<span style="color:#75715e">## `sector: {action, position (optional)}`.</span>
<span style="color:#66d9ef">var</span> _modifications :<span style="color:#f92672">=</span> {}
</pre>
<p>The bulk of our code is handling the player’s input. We want to check for left-click and right-click. We do this in the <code>_unhandled_input()</code> callback.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> _unhandled_input(event: <span style="color:#a6e22e">InputEvent</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#75715e"># Here, we return early if the event is not a mouse button pressed. This</span>
    <span style="color:#75715e"># filters most events we are not interested in, like keyboard key presses.</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> event is <span style="color:#a6e22e">InputEventMouseButton</span> <span style="color:#f92672">or</span> <span style="color:#f92672">not</span> event<span style="color:#f92672">.</span>pressed:
        <span style="color:#66d9ef">return</span>

    <span style="color:#75715e"># We need to know where the player clicks, which sector that corresponds to,</span>
    <span style="color:#75715e"># and ensure that they clicked on a visible sector if the camera is zoomed</span>
    <span style="color:#75715e"># out.</span>
    <span style="color:#66d9ef">var</span> click_position: <span style="color:#a6e22e">Vector2</span> <span style="color:#f92672">=</span> get_global_mouse_position()
    <span style="color:#66d9ef">var</span> sector :<span style="color:#f92672">=</span> _find_sector(click_position)
    <span style="color:#75715e"># If the sector does not exist, we have nothing to do, so we return early.</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> _sectors<span style="color:#f92672">.</span>has(sector):
        <span style="color:#66d9ef">return</span>

    <span style="color:#75715e"># If the player left-clicks on a sector that does not have a planet, we add</span>
    <span style="color:#75715e"># an entry to the `modifications` dictionary.</span>
    <span style="color:#66d9ef">if</span> event<span style="color:#f92672">.</span>button_index <span style="color:#f92672">==</span> BUTTON_LEFT <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> _sectors[sector]<span style="color:#f92672">.</span>planet:
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> _modifications<span style="color:#f92672">.</span>has(sector):
            _modifications[sector] <span style="color:#f92672">=</span> {}

        _modifications[sector]<span style="color:#f92672">.</span>action <span style="color:#f92672">=</span> Actions<span style="color:#f92672">.</span>ADD_PLANET
        _modifications[sector]<span style="color:#f92672">.</span>position <span style="color:#f92672">=</span> click_position

        <span style="color:#75715e"># Every time we make a modification, we regenerate the world.</span>
        _reset_world()

    <span style="color:#75715e"># If the player right-clicks in a sector with a planet, then we register in</span>
    <span style="color:#75715e"># the dictionary that we want to remove it.</span>
    <span style="color:#66d9ef">elif</span> event<span style="color:#f92672">.</span>button_index <span style="color:#f92672">==</span> BUTTON_RIGHT <span style="color:#f92672">and</span> _sectors[sector]<span style="color:#f92672">.</span>planet:
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> _modifications<span style="color:#f92672">.</span>has(sector):
            _modifications[sector] <span style="color:#f92672">=</span> {}

        _modifications[sector]<span style="color:#f92672">.</span>action <span style="color:#f92672">=</span> Actions<span style="color:#f92672">.</span>REMOVE_PLANET
        _reset_world()
</pre>
<p>The code above calls two methods we have yet to define, <code>_reset_world()</code> and <code>_find_sector()</code>. We add them next.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e"># As mentioned above, the `_reset_world()` function clears all the sectors and</span>
<span style="color:#75715e"># regenerates the world from scratch.</span>
<span style="color:#66d9ef">func</span> _reset_world() <span style="color:#f92672">-&gt;</span> void:
    _sectors <span style="color:#f92672">=</span> {}
    generate()


<span style="color:#75715e">## Returns the grid coordinates of the sector given a global position inside</span>
<span style="color:#75715e">## that sector.</span>
<span style="color:#66d9ef">func</span> _find_sector(world_position: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Vector2</span>:
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Vector2</span>(
        <span style="color:#a6e22e">int</span>((world_position<span style="color:#f92672">.</span>x <span style="color:#f92672">-</span> _half_sector_size) <span style="color:#f92672">/</span> sector_size),
        <span style="color:#a6e22e">int</span>((world_position<span style="color:#f92672">.</span>y <span style="color:#f92672">-</span> _half_sector_size) <span style="color:#f92672">/</span> sector_size)
    )
</pre>
<p><em>The <code>int()</code> function calls in <code>_find_sector()</code> remove the decimal part of the calculated numbers. An alternative option is to use <code>Vector2.floor()</code> instead, but in this case, it does not make the code much shorter or more readable.</em></p>
<p>Also, note how we reset the world whenever we make a change and regenerate it in <code>_reset_world()</code>. This is not the most optimized thing to do, but changing one sector can cause changes in the neighbors, propagating to more sectors.</p>
<p>Optimizing that is not trivial and complicates the code. Like before, until the world looks the way you want, we recommend not writing too much optimization code that would make it slower for you to iterate over your algorithm.</p>
<p>When it becomes time to optimize your code, you could consider a flood fill algorithm, which would update sectors starting from a modified one and grow outwards in a loop until changes can’t propagate anymore.</p>
<p>Let’s now apply those modifications to the world. We want to modify the way we generate planets in this script. To do so, we override the <code>_generate_planets_at()</code> function. As long as we respect the data format we use for planets in the parent class, other layers will generate fine with that change.</p>
<p>If there is no entry in the <code>modifications</code> dictionary, we generate the planet like before, using the <code>seeds</code> triangle area.</p>
<p>However, if we find an <code>action</code> in the <code>modifications</code> dictionary, we apply it.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#75715e"># Overrides the parent class&#39;s `_generate_planets_at()` method, taking into</span>
<span style="color:#75715e"># account the player&#39;s changes.</span>
<span style="color:#66d9ef">func</span> _generate_planets_at(sector: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">var</span> seeds: <span style="color:#a6e22e">Array</span> <span style="color:#f92672">=</span> _sectors[sector]<span style="color:#f92672">.</span>seeds
    <span style="color:#66d9ef">var</span> area: <span style="color:#a6e22e">float</span> <span style="color:#f92672">=</span> _calculate_triangle_area(seeds[<span style="color:#ae81ff">0</span>], seeds[<span style="color:#ae81ff">1</span>], seeds[<span style="color:#ae81ff">2</span>])

    <span style="color:#75715e"># Here, we check if our modifications dictionary has an entry for the current sector. If so, it must have an `action` key that we extract into this variable.</span>
    <span style="color:#66d9ef">var</span> action: <span style="color:#a6e22e">int</span> <span style="color:#f92672">=</span> _modifications[sector]<span style="color:#f92672">.</span>action <span style="color:#66d9ef">if</span> _modifications<span style="color:#f92672">.</span>has(sector) <span style="color:#66d9ef">else</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>

    <span style="color:#75715e"># We first check for the two possible actions added in this script. We either want to add or remove a planet.</span>
    <span style="color:#66d9ef">if</span> action <span style="color:#f92672">==</span> Actions<span style="color:#f92672">.</span>ADD_PLANET:
        <span style="color:#75715e"># If the action is to add a planet, we add a planet where the player left-clicked in the sector. Here, we don&#39;t have special conditions to randomize the scale or ensure the planet is not too close to the sector&#39;s borders.</span>
        _sectors[sector]<span style="color:#f92672">.</span>planet <span style="color:#f92672">=</span> {position <span style="color:#f92672">=</span> _modifications[sector]<span style="color:#f92672">.</span>position, scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.0</span>}
    <span style="color:#75715e"># We could skip that condition as we initialize all planets to an empty dictionary in the parent class. Still, if the player wanted to remove a planet, this code ensures that we output no planet data for the sector, even if we modify the `LayeredWorldGenerator` script.</span>
    <span style="color:#66d9ef">elif</span> action <span style="color:#f92672">==</span> Actions<span style="color:#f92672">.</span>REMOVE_PLANET:
        _sectors[sector]<span style="color:#f92672">.</span>planet <span style="color:#f92672">=</span> {}
    <span style="color:#75715e"># This code is the same as in the parent class and generates a planet from the `seeds`.</span>
    <span style="color:#66d9ef">elif</span> area <span style="color:#f92672">&lt;</span> planet_generation_area_threshold:
        _sectors[sector]<span style="color:#f92672">.</span>planet <span style="color:#f92672">=</span> {
            position <span style="color:#f92672">=</span> _calculate_triangle_epicenter(seeds[<span style="color:#ae81ff">0</span>], seeds[<span style="color:#ae81ff">1</span>], seeds[<span style="color:#ae81ff">2</span>]),
            scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.0</span> <span style="color:#f92672">-</span> area <span style="color:#f92672">/</span> (planet_generation_area_threshold <span style="color:#f92672">/</span> <span style="color:#ae81ff">5.0</span>)
        }
</pre>
<p>With that, you can use your mouse and click on sectors to add or remove planets. Keep in mind you can only have one planet in a given sector, so clicking in different places inside the same sector won’t add a new planet or even move it until you delete the existing one.</p>
<p><img src="data:image/png;base64,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" /></p>
<h2 id="summary">Summary</h2>
<p>And this brings the series to an end.</p>
<p>Over the past nine lessons, we learned that we could use different noises to achieve varied effects.</p>
<p>We implemented white and blue noise to see how they could lead to different object distributions.</p>
<p>We created a system that allowed us to generate sectors on-the-fly as the player explores the universe.</p>
<p>We extended it by implementing a layer-based generation system and saw how we could make persistent changes to the world.</p>
<p>With that, you should have the foundations you need to build elaborate worlds. As mentioned in the series, there is no silver bullet when it comes to procedural content generation. You want to think about the kind of world you want to create and experiment with algorithms until your code produces the expected result.</p>
<p>You will need to combine algorithms presented in the course and explore beyond them by experimenting directly in Godot or searching for more online.</p>
<p>I hope this series was insightful, and I wish you the best on your journey making procedural games. Below, you’ll find the code reference for this lesson.</p>
<h2 id="code-reference">Code reference</h2>
<p>Here’s the complete <code>PersistentWorldGenerator.gd</code> script.</p>
<pre style="color:#f8f8f2;background-color:#272822">class_name PersistentWorldGenerator
<span style="color:#66d9ef">extends</span> LayeredWorldGenerator

<span style="color:#66d9ef">enum</span> Actions { ADD_PLANET, REMOVE_PLANET }

<span style="color:#66d9ef">var</span> _modifications :<span style="color:#f92672">=</span> {}


<span style="color:#66d9ef">func</span> _unhandled_input(event: <span style="color:#a6e22e">InputEvent</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> event is <span style="color:#a6e22e">InputEventMouseButton</span> <span style="color:#f92672">or</span> <span style="color:#f92672">not</span> event<span style="color:#f92672">.</span>pressed:
        <span style="color:#66d9ef">return</span>

    <span style="color:#66d9ef">var</span> click_position: <span style="color:#a6e22e">Vector2</span> <span style="color:#f92672">=</span> get_global_mouse_position()
    <span style="color:#66d9ef">var</span> sector :<span style="color:#f92672">=</span> _find_sector(click_position)
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> _sectors<span style="color:#f92672">.</span>has(sector):
        <span style="color:#66d9ef">return</span>

    <span style="color:#66d9ef">if</span> event<span style="color:#f92672">.</span>button_index <span style="color:#f92672">==</span> BUTTON_LEFT <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> _sectors[sector]<span style="color:#f92672">.</span>planet:
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> _modifications<span style="color:#f92672">.</span>has(sector):
            _modifications[sector] <span style="color:#f92672">=</span> {}

        _modifications[sector]<span style="color:#f92672">.</span>action <span style="color:#f92672">=</span> Actions<span style="color:#f92672">.</span>ADD_PLANET
        _modifications[sector]<span style="color:#f92672">.</span>position <span style="color:#f92672">=</span> click_position

        _reset_world()

    <span style="color:#66d9ef">elif</span> event<span style="color:#f92672">.</span>button_index <span style="color:#f92672">==</span> BUTTON_RIGHT <span style="color:#f92672">and</span> _sectors[sector]<span style="color:#f92672">.</span>planet:
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> _modifications<span style="color:#f92672">.</span>has(sector):
            _modifications[sector] <span style="color:#f92672">=</span> {}

        _modifications[sector]<span style="color:#f92672">.</span>action <span style="color:#f92672">=</span> Actions<span style="color:#f92672">.</span>REMOVE_PLANET
        _reset_world()


<span style="color:#66d9ef">func</span> _reset_world() <span style="color:#f92672">-&gt;</span> void:
    _sectors <span style="color:#f92672">=</span> {}
    generate()


<span style="color:#66d9ef">func</span> _find_sector(world_position: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> <span style="color:#a6e22e">Vector2</span>:
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Vector2</span>(
        <span style="color:#a6e22e">int</span>((world_position<span style="color:#f92672">.</span>x <span style="color:#f92672">-</span> _half_sector_size) <span style="color:#f92672">/</span> sector_size),
        <span style="color:#a6e22e">int</span>((world_position<span style="color:#f92672">.</span>y <span style="color:#f92672">-</span> _half_sector_size) <span style="color:#f92672">/</span> sector_size)
    )


<span style="color:#66d9ef">func</span> _generate_planets_at(sector: <span style="color:#a6e22e">Vector2</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">var</span> seeds: <span style="color:#a6e22e">Array</span> <span style="color:#f92672">=</span> _sectors[sector]<span style="color:#f92672">.</span>seeds
    <span style="color:#66d9ef">var</span> area: <span style="color:#a6e22e">float</span> <span style="color:#f92672">=</span> _calculate_triangle_area(seeds[<span style="color:#ae81ff">0</span>], seeds[<span style="color:#ae81ff">1</span>], seeds[<span style="color:#ae81ff">2</span>])

    <span style="color:#66d9ef">var</span> action: <span style="color:#a6e22e">int</span> <span style="color:#f92672">=</span> _modifications[sector]<span style="color:#f92672">.</span>action <span style="color:#66d9ef">if</span> _modifications<span style="color:#f92672">.</span>has(sector) <span style="color:#66d9ef">else</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>

    <span style="color:#66d9ef">if</span> action <span style="color:#f92672">==</span> Actions<span style="color:#f92672">.</span>ADD_PLANET:
        _sectors[sector]<span style="color:#f92672">.</span>planet <span style="color:#f92672">=</span> {position <span style="color:#f92672">=</span> _modifications[sector]<span style="color:#f92672">.</span>position, scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.0</span>}
    <span style="color:#66d9ef">elif</span> action <span style="color:#f92672">==</span> Actions<span style="color:#f92672">.</span>REMOVE_PLANET:
        _sectors[sector]<span style="color:#f92672">.</span>planet <span style="color:#f92672">=</span> {}
    <span style="color:#66d9ef">elif</span> area <span style="color:#f92672">&lt;</span> planet_generation_area_threshold:
        _sectors[sector]<span style="color:#f92672">.</span>planet <span style="color:#f92672">=</span> {
            position <span style="color:#f92672">=</span> _calculate_triangle_epicenter(seeds[<span style="color:#ae81ff">0</span>], seeds[<span style="color:#ae81ff">1</span>], seeds[<span style="color:#ae81ff">2</span>]),
            scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.0</span> <span style="color:#f92672">-</span> area <span style="color:#f92672">/</span> (planet_generation_area_threshold <span style="color:#f92672">/</span> <span style="color:#ae81ff">5.0</span>)
        }
</pre>
</body>
</html>
