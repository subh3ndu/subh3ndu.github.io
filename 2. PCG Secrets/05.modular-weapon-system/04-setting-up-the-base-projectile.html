<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Tmplm8cOlZ7yU</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <style type="text/css">:root {--c-caption: grey;--c-blue: #26bfe3;--c-green: #02e180;--c-orange: #f2971a;--c-pink: #e3266f;--c-bg: #fff;--c-bg-alt: #f5f5f5;--c-text-header: #fff;--c-text-body: #95989a;--padding: 20px;--padding-inv: calc(-1 * var(--padding));--fonts: "Open Sans", -apple-system, system-ui, "Segoe UI", "Roboto","Helvetica Neue", Arial, sans-serif;--font-size: 1.1rem;}html {font-size: 100%;}body {color: #444;font-family: var(--fonts);font-size: var(--font-size);line-height: 1.7;padding: 1em;margin: auto;max-width: 800px;background: #fefefe;}a {color: #0645ad;text-decoration: none;}a:visited {color: #0b0080;}a:hover {color: #06e;}a:active {color: #faa700;}a:focus {outline: thin dotted;}a::selection {background: rgba(255, 255, 0, 0.3);color: #0645ad;}*::selection {background: rgba(255, 255, 0, 0.3);color: #000;}p {margin: 1em 0;}.caption {text-align: center;color: var(--c-caption);font-style: italic;}.note,.tips,.warning {display: block;width: calc(100% - var(--padding) * 2);padding: 0 var(--padding);padding-bottom: var(--padding);background-color: var(--c-bg-alt);}.note:before,.tips:before,.warning:before {display: block;margin: 0 var(--padding-inv) 10px var(--padding-inv);padding-left: var(--padding);font-style: bold;color: white;}.note:before {content: "Note";background-color: var(--c-blue);}.tips:before {content: "Tips";background-color: var(--c-pink);}.warning:before {content: "Warning";background-color: var(--c-orange);}img {max-width: 100%;}h1,h2,h3,h4,h5,h6 {color: #111;line-height: 125%;margin-top: 2em;font-weight: normal;}h4,h5,h6 {font-weight: bold;}h1 {font-size: 2.5em;}h2 {font-size: 2em;}h3 {font-size: 1.5em;}h4 {font-size: 1.2em;}blockquote {color: #666666;margin: 0;padding-left: 3em;border-left: 0.5em #eee solid;}hr {display: block;height: 2px;border: 0;border-top: 1px solid #aaa;border-bottom: 1px solid #eee;margin: 1em 0;padding: 0;}pre,code,kbd,samp {color: #0084b8;font-family: monospace, monospace;}pre {background-color: #f9f9f9;padding: 1em;font-size: 14px;white-space: pre-wrap;word-wrap: break-word;}code {white-space: pre-wrap;}b,strong {font-weight: bold;}dfn {font-style: italic;color: var(--c-blue);}ins {background: #ff9;color: #000;text-decoration: none;}ul,ol {margin: 1em 0;padding: 0 0 0 2em;}li p:last-child {margin-bottom: 0;}ul ul,ol ol {margin: 0.3em 0;}dl {margin-bottom: 1em;}dt {font-weight: bold;margin-bottom: 0.8em;}dd {margin: 0 0 0.8em 2em;}dd:last-child {margin-bottom: 0;}img {border: 0;-ms-interpolation-mode: bicubic;vertical-align: middle;}figure {display: block;text-align: center;margin: 1em 0;}figure img {border: none;margin: 0 auto;}figcaption {font-size: 0.8em;font-style: italic;margin: 0 0 0.8em;}.author {font-size: 1.2em;text-align: center;}tag {min-width: 3.2em;text-align: center;border-radius: 8px;padding: 0 4px;margin-bottom: 0;margin-top: 4px;margin-right: 0.2em;display: inline-block;color: white;}tag.update {background: var(--c-blue);}tag.new {background: var(--c-green);}tag.update:after {content: "update";}tag.new:after {content: "new";}button {background-color: var(--c-blue);color: white;border: none;cursor: pointer;line-height: 2rem;font-size: 1.2rem;margin: 0.75rem 0;overflow: visible;padding: 0.75rem 1.5rem;border-radius: 1rem;transition: background-color $transition-duration;white-space: nowrap;}</style>
</head>
<body>
<h1 id="setting-up-a-basic-projectile">Setting Up A Basic Projectile</h1>
<p>We created the base class for an emitter and a projectile. Now it’s time to use them to create a simple projectile. The basic projectile shoots one plasma pellet at a time.</p>
<p>We use a timer to keep track of the lifetime. When it runs out, then the projectile should vanish. Note the use of <code>_post_setup</code> before starting the timer. <code>setup</code> is the one that sets the lifetime which we need here.</p>
<p><code>src/Projectile/Basic/BasicProjectile.gd</code></p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">extends</span> Projectile


<span style="color:#66d9ef">onready</span> <span style="color:#66d9ef">var</span> timer: <span style="color:#a6e22e">Timer</span> <span style="color:#f92672">=</span> <span style="color:#f92672">$</span><span style="color:#a6e22e">Timer</span>


<span style="color:#66d9ef">func</span> _post_setup() <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> is_inside_tree():
        yield(self, <span style="color:#e6db74">&quot;ready&quot;</span>)
    timer<span style="color:#f92672">.</span>start(lifetime)


<span style="color:#66d9ef">func</span> _on_Timer_timeout() <span style="color:#f92672">-&gt;</span> void:
    queue_free()
</pre>
<p>The <code>if not is_inside_tree(): yield(self, &quot;ready&quot;)</code> block is a common coroutine trick in Godot. It makes the function stop executing until the node is in the tree and has called <code>_ready</code> and <code>onready</code>. In this case, it’s to make sure we’ve found the timer.</p>
<h2 id="creating-a-scene-we-can-spawn-from-the-emitter">Creating a scene we can spawn from the emitter</h2>
<p>We have the projectile we want to shoot, but we also need a scene to hold it. Projectiles in this tutorial are kinematic bodies with a collision shape. We know we need a timer for the lifetime and we also add a sprite for graphics. You could add an AudioStreamPlayer2D for a low volume crackling or whizzing noise, or maybe some particles.</p>
<p><code>src/Projectile/Basic/BasicProjectile.tscn</code></p>
<figure>
<img src="data:image/png;base64,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" alt />
</figure>
<p>The sprite is a simple circle, but with a properly configured <code>WorldEnvironment</code> node and a HDR modulate color, we can get a pretty lovely glowing effect.</p>
<figure>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB3aWR0aD0iMzIiCiAgIGhlaWdodD0iMzIiCiAgIHZpZXdCb3g9IjAgMCAzMy44NjY2NjYgMzMuODY2NjY3IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlkPSJzdmc4IgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkyLjQgKDVkYTY4OWMzMTMsIDIwMTktMDEtMTQpIgogICBzb2RpcG9kaTpkb2NuYW1lPSJ3aGl0ZV9jaXJjbGUuc3ZnIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzMiIgLz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjMzIyOTQ3IgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjIuOCIKICAgICBpbmtzY2FwZTpjeD0iMTkuNzc2NzE1IgogICAgIGlua3NjYXBlOmN5PSIxMzguMTQzMTgiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgdW5pdHM9InB4IgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMzQ0MCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMzc3IgogICAgIGlua3NjYXBlOndpbmRvdy14PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTpzbmFwLW9iamVjdC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6c25hcC1jZW50ZXI9InRydWUiIC8+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNSI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgICA8ZGM6dGl0bGU+PC9kYzp0aXRsZT4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwtMjYzLjEzMzMzKSI+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0ib3BhY2l0eToxO2ZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC43OTM3NDk4NztzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6MC43OTM3NDk5NiwgMS41ODc0OTk5NDAwMDAwMDAwNTtzdHJva2UtZGFzaG9mZnNldDowO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icGF0aDkzOCIKICAgICAgIGN4PSIxNi45MzMzMzIiCiAgICAgICBjeT0iMjgwLjA2NjY1IgogICAgICAgcj0iMTUuODc0OTk5IiAvPgogIDwvZz4KPC9zdmc+Cg==" alt />
</figure>
<figure>
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALgAAAC4BAMAAACiHTv0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMFBMVEUEAAAJAQAOAgAUAgAaBAAjBwAtCwA4DwBGFQFYHQFuJgKNMwS0RAf/5if/jhXmWQxqCX/RAAALi0lEQVR42rVb63nbOhKNOpDcgcUOKHZAsgOSHYjqgFIHojqw1IHtDmJ3YO26gc3dBvZ+24D33p0XXnwCTDJO/Nk/cnRycDAABoNv38Zi4x3fgmOz+X3oIdibdRj2avMb0fv//mFr4ueEmUKmeFyO3hVlOxCPS4WZh+6Ls4z4djQel1CfVHsUPZz4JLaLvg4lPoPtogcSn8V20NdBxD2wHfQg4luvCKEeih1EfVyUSGIcfe2tSg9Y/xLHI8KsFxEn4HhHgZ8SO/iPnrqshrABLop2dmwXUV8NiAJMd71wtfcD7xNH2ruBiAfH1Avc/pe7kbDJ+1Bf9YjH8W40Bqivw4jvJmKAegD4FG+X+zx4X5VoGtxwn9dl5RKPbHenaSaRDHpmFrxL3MIG0JTDxddz9XFOF5e4ETxJstRiDr9mPdnnwDuqaOKAlWROAHzSpT6jy8pRRRFHoA42wmfpMPW1lyqKeJL1oRk9dajP6OKAC/FkBBvGV3Hv+GUS/MElbrALCYOeDFFf+0jewdagOYTCd6j7gDvEk1QBwt+Sosjwi3Vn2V2/rD0k52mpaGcZwOYc8IP+fzjUp0R3JbeIFwUg5pp5UZRlJsowdckwj57gnFVEE6CNgEWpAn4rSHhxjJsB5iW3iSPt0ooCFVKO4eQ4J7oNziZPRe+iKAeC8ZO+6OPgD5ZXiHieDSGjMuwZUt1x+hy4IY4WFE0qDiMOo1vUx0V3zGIUV2rv9/vOD3lBwqQ90UfBLa+oOc+QZQWwdU3UBT4v9JDG/uBbbcQiF0VKAK5r/oYfxIYv1JiK6GMj6phFlggcTUQn0sAZmSP9WnEn1dOu6Otps+iUVSrmTLpm5vt9ZXRhv0S+4CR5mpDipLfwtWLPrslJGCO6D/NIVFFWqTrQdVWzLix62hV9ajxjXoEytjhrjXGAr0bQK3FkrpLX1hN8q4xYOLybumkO9JfhBVt0ifzAWXJFvBS5DxTNUZNn6ihM0rXLMPiA5PsKFK6RMCLLN7K85ADH6bPgkQIvSpaceR+bIwXAE3nwkMqN6YxdbLPoKUTMeSiB8FEFkje6iNNt5hPgsYwnYTPx5uhE05DurLlyumWXYXBjllTQiTjoTaDn0/Es2hy0YQbsMgEea8mFuECfAPoEYbijLiS6P/NIzSFEJ+KkSns6te0Zg6gLNjM3c3TQ6K7NEVub/EDMz+f23AJ8254QnqlXbMbU2GUGnJhnInlVy3AKMAUrr/wyZJdRmyuzZCI58T6dDDaEGtK9yrsdo49PUDFLoSQHdIa+QLRPRhj2S5HbdvFgngpzlLxhwdv2SYKVoSGtZURNdvFgrhYKnvmoOGJfMS6XJzINoRPzQtB9mWuzsOSoCkhyvQg8q97oScpeHDd6h3lizNIQ8QvzpkBlTjykink6NUVXIzYnbCTO2M835o7CsBkZvWv09dQElWVor71yQUWeX27wR6izXWpZjYzRZ5nv1BK3V8P5xNgv8OdG1M8tzaNqz3YJYZ4yOpkFskrbEjbH8zNQB12OtGZUJnUFMgez1DT1QZXb7UXFM1I/seiW0cOZs+RPRPz19e3tVVMn0TG7qOXCg7maoGqJA7OAEa/XG2B/f3t9+/4dqV9YF8ku9hSdZs55Kxebk8sJ++X7G8UrynJFp6NdVF50k8sU88QwPwhzAAfg9/c3oo5mlLTLGb2TXKaYwyRC5hUzN9j3jzuio+oXnEa0meaN9FRyWXVTS0ZbFmTO43mD0Xy/YyC6GdG6NLKMpcVeaiHNa4c5Y398vMFUAnBgLprndnKZBLeY7/fsRHT5CxH//LyjMDikNnNJLsuYX68o+f3+9ffXF+gCosOIAvMDM89CmNO+gg8rNedbZP5+//zrx4//gjCgCzM/NirphjGXpIiyoM1JlX/+gPjPHWV5Bi+ejpIWi1DmlBQ5tQBzSCwA/ieC/0G6IHOQRTJXGPPMYt4KcyYO1I0scMjQO5dg5rUwpwF9/weD/wuYwyxio/8K5ujE+/8Y/N93w1x2dEuYV5VhDuB/Mvgf4kVB3/8881sH3Gi+lPm+/o3MKw/NlzPXPke33AfccvgVzG2ff1nT/1cwZ59bM5Sm/5nXuWDmid62NMj8wrnlL84tP888c5nfMOVSVvzU4CfFfEE+p3IFb1tQFki5kM///rTzuTDPgleirFRbi1bnXED+AuJvuF9U038pc9rk8gL9wsscYMMyh7si2kQfZPc/cygaXv1L2uQyc9pa3O+8t7iaNbTi4//U6j+4bylle45bC9xwfXzA2v/B+xbazh1439I/FHnsuIA5y0J2gV3o+5vacV1xlTua3X/AjkvtFdWJCIyOm1zeKwo2ziFmXgTsFSOzyy1FFhZddqKvqMrTKPP5XW5KVqQ6Ds0itT9/RU14898e7cWf9ufR/P5cnSwKdQxl0a90qHjFbzfa5NLiv5ftXDhzdSbqHFv4OHfWS2i+mDmdQ+UYag5cF84sTc21brsSPX8mksxVMnNOjNdnPCze5Agth1zFnM6h/idoGtFSJQA+iN6u+EXEZX7K7J8+QQ8nl7KuqCJizufqdN4eOSfu5WBBeSueB4/tkmWtzHgx6FRyOXOVq1fk8qm3yFJUyfmcSyIXhpaKyNEq5nDeigNqXLllxpNUoagS1VK+VWWoXNk8DqlxlapsoWpcrSpCtU5lMZs5bznMrZqIHOiOXIjiD2i5CtXQ4dyqoM9V5zZDpdwDZUa79McFV3G5LhRN1BU7U1SVikq7IipxPp+O2iuDhaKNVy1XKvNUyz2hNCgIYh+lULwvi4Fa7nihOLI2dJxeuEKHVeijqkLTcMpNlG8V+sG9mBO/NI0U56UCTaIo9Ny7fv6gmJtKMQmjSuj4HzjaovDS3y2IetxZyCWrVNAP9q0CXxVJG4BIHk3cn3WMnojTK33bcrBuLBo6mFdWvp1k3p2ilF0MdXVR1FDIFRoRzwdu/nyuz9TVXCW3OSrkIqeU+pZ9w+V38cdVbr6cqyt97Ye4B77Traold3PmFqrgmyIRpm4Q93CQq7lSXYha83MMfNUdUeuylYUhzlpvJq4v5+PxRW7gJpcvz+U2vuzctqrbUF07C72DZl3kCs25y4Xf1Mwv3Iv/R8/b88S6PUdl9voausKzilwTuy4f74cYvPfnWYrX/qC79EPItT8S14kljsI6FtIkyzQ8dynsuaNAeBdlr08koNeC8kvOBSlWnr7rHhRu/Ul9Gjl6XSI73f2kmi3Yf6ajQE/POPICt0W3rK4siZ0RbgeK3Q/16NWZw6vRLnO493pncv/OnL5dVGfBQN9PLryzNPHqKXJHNLKoo9tt8tjzIr1Wyc6vG8pttdoa6vj/B88oePoc7O0yxLfxLPiq14GmVYfcV5TSl0cbuNxuF+20Q/r3ziVqTLkjj5vydJNemthdqN5df6yLpk7NRdo7mYymtHJuPVoKOyMq/Yq679RirnhLl2jk3wy5cRqV053u+8sy98dklwZ0Wrq6KOrJSBtnl/hjALhuzhtGT1PV3Rr5dbe6fblWs7Jp+M2snuXUbVie61feDFFHlA55pJ10Wq1925Ufur3+CSqvP4AU6bb8zveId/uVYy1MwupQ4Cf1+qznu7h7/ecGfWdGUP9gd4h79OV3O+ej7UznfJf4JuRBwTT6Ngp5C9F/wxFvfbD9XnH0nyvEY33/sYUd9ohjY78Q2Q7TjgYetwQ/nBl6gGLTtoivvwVS5+kUdaCjbTDx4fdEkZIgUlMyHn42Mwc+8hJqqx9YxXG8+CXUt6mHbX1c9/lZwNO2Hnqsvy17Hxb64C/0yZ/X683BV6KBjyyDsL2eWW4C0IMfiK780Rc8bd34oi95lOv7JnfZc2KPl8rdt8oBb7jn3lj3X1n/zNPzh5kH3EGPz4der4+/PA99lB/2aj7wvX/Qm/zA9/5B6MHYAegLsL1lX4Ttib4Q20uZSez/A0syJyyHe5i1AAAAAElFTkSuQmCC" alt />
</figure>
<h2 id="firing-our-new-projectile">Firing our new projectile</h2>
<p>We have the projectile; now we need the emitter.</p>
<p><code>src/Projectile/Basic/BasicEmitter.gd</code></p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">extends</span> ProjectileEmitter


<span style="color:#75715e"># The base projectile scene that this emitter fires. Since it lives right next to the emitter script, we can use a relative path.</span>
<span style="color:#66d9ef">var</span> projectile :<span style="color:#f92672">=</span> preload(<span style="color:#e6db74">&quot;BasicProjectile.tscn&quot;</span>)

<span style="color:#75715e"># One Shot timer to control the firing rate.</span>
<span style="color:#66d9ef">onready</span> <span style="color:#66d9ef">var</span> timer :<span style="color:#f92672">=</span> <span style="color:#f92672">$</span><span style="color:#a6e22e">Timer</span>
</pre>
<p>I’m not a fan of games where you have to tap the fire buttons constantly, so instead of an input event. We determine when to shoot based on the Input singleton. If we’re holding down the button and the timer isn’t running, then we fire and start the timer. If you want to tap the button, do this in <code>_unhandled_input</code> instead and use the <code>event</code> it provides.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> _physics_process(_delta: <span style="color:#a6e22e">float</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">Input</span><span style="color:#f92672">.</span>is_action_pressed(<span style="color:#e6db74">&quot;fire&quot;</span>) <span style="color:#f92672">and</span> timer<span style="color:#f92672">.</span>is_stopped():
        fire()
        timer<span style="color:#f92672">.</span>start(<span style="color:#ae81ff">1.0</span> <span style="color:#f92672">/</span> projectiles_per_second)
</pre>
<p><em>For the tutorial’s simplicity, we call fire based on input in the emitter. A better solution is to have a custom signal that comes from higher up, like the ship it’s attached to, or the weapon system. That way, AI and networked games can use the system too by emitting a <code>fire</code> signal!</em></p>
<p>The specialized function for the emitter is where we create and set up the projectile to fire. We give it the position of the cannon and the data we got from the <code>fire</code> function.</p>
<pre style="color:#f8f8f2;background-color:#272822"><span style="color:#66d9ef">func</span> _do_fire(_direction: <span style="color:#a6e22e">Vector2</span>, _motions: <span style="color:#a6e22e">Array</span>, _lifetime: <span style="color:#a6e22e">float</span>) <span style="color:#f92672">-&gt;</span> void:
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> spawned_objects:
        <span style="color:#66d9ef">return</span>

    <span style="color:#66d9ef">var</span> new_projectile :<span style="color:#f92672">=</span> projectile<span style="color:#f92672">.</span>instance()
    new_projectile<span style="color:#f92672">.</span>setup(global_position, _direction, _motions, _lifetime)
    spawned_objects<span style="color:#f92672">.</span>add_child(new_projectile)
</pre>
<h2 id="creating-the-cannon-scene">Creating the cannon scene</h2>
<p>The emitter is the Node2D that uses the basic emitter script. We add the timer with <em>One Shot</em> enabled. It’s not complicated, but it <em>is</em> the resource that ends up in the weapons system, so it goes into the <code>/Projectiles</code> folder instead of <code>/src</code>.</p>
<p><code>Projectiles/BasicEmitter.tscn</code></p>
<figure>
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP0AAAA6CAMAAABMBq/CAAAATlBMVEUmLDvMztJESlfGyMywsrc7QE5scHszO08ZHSjg4OB9gIq+v8SRlJ0rMUCcnqZTWGRhZXClt/MxNkapq7KIi5SWp96Aj75TXX2hpKzU1NSqbv99AAAACXBIWXMAAAsTAAALEwEAmpwYAAADDklEQVRo3u3ai3KrIBAAUF6LBURQfCT//6N3EWNMk7R2bo3TyE6HtIFkcpCHZEs+CoyP48XIJtPD0SLrsz7rsz7rsz7r/2iw0pxVDOEOqC/D2ajEv62QgdIgf6Qf+q7rh7+kF8hOerV8GqYuMWy1vujrMfpi7llKqangruXJk2UTyh/Ue02m4vV64Ip7AM8VhbX6vu6Gohi6up9pJYAL4a6lvHZpWTHG4EF9GeHlK/Qxbp81ijfxscFeWKkf6i69pKuHWR+vH74BqwwvsVYKbhAkcELZ1nBRpCbxY8gTN94LHmCsj2OiGovY0sQXC9dy/fv6u2FPvFKeOIELIf4mn+udt+jwLl364dIN/ULfVFiAL0BoHFGuYS7pW+GYJ1c9TjFJQ2HLKtVXEToWOjCo4rOiZfAKPU56GEcFAZz6z/VeS2ulHqdxV0/zvai7eVJzTiub/tAVYZxNF5pY7q7zPtJa7CiKb+TMJ72NL2K0IaLaZOQ/1Ddr9CiX+GOTvrnTVzjvT8HiyBfC4IfXvHJJz2hxM+/HyUDR6fgnPaMGA6uEfJFerhz5kT/hn418UlAHHNvoeOlAc32rn+f9cz0DDPv7+rjcPdITvnbVs97br1c9oC6KSJkGrqOjw1K3Um+5vzZ5xWYfO3ze8dj/7Xi43FtGXeM5znsPjTbzqge+eT7y2wBFKrTxwOQr9YT93t0OvoPGDc+jPnAeWHI0uOOFZr7budND4GUqrDb0sk++5jY3zn1BqXjrO90fHHHyCTfrsz7rsz7rj62HrM/6rM/6rD+2/nJsfnh4fHu9uerN8fStMuP3XdaodhoNdIxymcd5Vz1QNeYd9JwKAsZCy1ixzOO87arnlHKX8hKnsUOE/JS42TJVs9ear9UZ4KyWnIV+mbjZMlWz245XKWHUTfZloV8kbjZN1Wx/xoO7mPQYz/SLL3A3TdXsdcLVab+TK/RbpWr207vLdu++02+XqtlNjzveFIt/fnis3y5Vs5u+vd7rtd/pN0vV7KY/zJ0uOfQp5zCR9Vmf9Vmf9Vl/JP0/hWZG5jB/JbMAAAAASUVORK5CYII=" alt />
</figure>
</body>
</html>
